<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"sqa-hodor-cmd.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="sqa分享">
<meta property="og:url" content="http://sqa-hodor-cmd.github.io/blog/index.html">
<meta property="og:site_name" content="sqa分享">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Hodor">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://sqa-hodor-cmd.github.io/blog/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>sqa分享</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">sqa分享</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sqa-hodor-cmd.github.io/blog/2020/06/22/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Hodor.png">
      <meta itemprop="name" content="Hodor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="sqa分享">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/22/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">java基础学习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-22 11:26:20" itemprop="dateCreated datePublished" datetime="2020-06-22T11:26:20+08:00">2020-06-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-07-24 19:58:48" itemprop="dateModified" datetime="2020-07-24T19:58:48+08:00">2020-07-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">java学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="JAVA学习笔记"><a href="#JAVA学习笔记" class="headerlink" title="JAVA学习笔记"></a>JAVA学习笔记</h2><h3 id="第二章-数据类型和运算符"><a href="#第二章-数据类型和运算符" class="headerlink" title="第二章 数据类型和运算符"></a>第二章 数据类型和运算符</h3><h4 id="2-4变量"><a href="#2-4变量" class="headerlink" title="2.4变量"></a>2.4变量</h4><h5 id="2-4-1-变量的本质"><a href="#2-4-1-变量的本质" class="headerlink" title="2.4.1 变量的本质"></a>2.4.1 变量的本质</h5><p>   变量本质上就是代表一个”可操作的存储空间”，空间位置是确定的，但是里面放置什么值不确定。我们可通过变量名来访问“对应的存储空间”，从而操纵这个“存储空间”存储的值。     Java是一种强类型语言，每个变量都必须声明其数据类型。变量的数据类型决定了变量占据存储空间的大小。 比如，int a=3; 表示a变量的空间大小为4个字节。<br>   变量作为程序中最基本的存储单元，其要素包括变量名，变量类型和作用域。变量在使用前必须对其声明, 只有在变量声明以后，才能为其分配相应长度的存储空间。</p>
<ul>
<li><strong>变量的声明</strong><br>格式为：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">type  varName [=value][,varName[=value]...]; </span><br><span class="line"><span class="comment">//[]中的内容为可选项，即可有可无</span></span><br><span class="line">数据类型  变量名  [=初始值] [,变量名  [=初始值]…];</span><br></pre></td></tr></table></figure>
<ul>
<li>【示例2-4】声明变量<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">double</span>  salary;</span><br><span class="line"><span class="keyword">long</span>  earthPopulation;</span><br><span class="line"><span class="keyword">int</span>  age;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>不同数据类型的常量会在内存中分配不同的空间，如图2-1所示。</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494899385622782.png" alt="1.png"><br>        图2-1 声明变量的内存示意图<br><strong>注意事项</strong></p>
<ul>
<li>每个变量都有类型，类型可以是基本类型，也可以是引用类型。<ul>
<li>变量名必须是合法的标识符</li>
<li>变量声明是一条完整的语句，因此每一个声明都必须以分号结束</li>
</ul>
</li>
</ul>
<p>*<em>【示例2-5】在一行中声明多个变量 *</em></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>  i ,j; <span class="comment">// 两个变量的数据类型都是int</span></span><br></pre></td></tr></table></figure>

<p><strong>老鸟提议</strong></p>
<p><strong>不提倡这种”一行声明多个变量”风格，逐一声明每一个变量可以提高程序可读性。</strong></p>
<p><strong>【示例2-6】可以将变量的声明和初始化放在同一行中</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">int</span>  age = <span class="number">18</span>;    </span><br><span class="line"><span class="keyword">double</span>  e = <span class="number">2.718281828</span>;</span><br></pre></td></tr></table></figure>
<h5 id="2-2-2-变量的分类"><a href="#2-2-2-变量的分类" class="headerlink" title="2.2.2 变量的分类"></a>2.2.2 变量的分类</h5><p>从整体上可将变量划分为局部变量、成员变量(也称为实例变量)和静态变量。</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>声明位置</th>
<th>从属于</th>
<th>生命周期</th>
</tr>
</thead>
<tbody><tr>
<td>局部变量</td>
<td>方法或语句块内部</td>
<td>方法/语句块</td>
<td>从声明位置开始，直到方法或语句块执行完毕，局部变量消失</td>
</tr>
<tr>
<td>成员变量(实例变量)</td>
<td>类内部，方法外部</td>
<td>对象</td>
<td>对象创建，成员变量也跟着创建。对象消失，成员变量也跟着消失；</td>
</tr>
<tr>
<td>静态变量(类变量)</td>
<td>类内部，static修饰</td>
<td>类</td>
<td>类被加载，静态变量就有效；类被卸载，静态变量消失。</td>
</tr>
</tbody></table>
<p><strong>老鸟建议</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">成员变量和静态变量不是目前重点，不要过多纠结理解与否。我们学习面向对象时，再重点讲解成员变量和静态变量</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>局部变量(local  variable)</strong></p>
<p> 方法或语句块内部定义的变量。生命周期是从声明位置开始到到方法或语句块执行完毕为止。局部变量在使用前必须先声明、初始化(赋初值)再使用。</p>
</li>
</ul>
<p> <strong>【示例2-7】局部变量</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   <span class="keyword">int</span> i;</span><br><span class="line">   <span class="keyword">int</span> j = i+<span class="number">5</span> ; <span class="comment">// 编译出错，变量i还未被初始化 </span></span><br><span class="line">&#125; </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   <span class="keyword">int</span> i;</span><br><span class="line">   i=<span class="number">10</span>;</span><br><span class="line">   <span class="keyword">int</span> j = i+<span class="number">5</span> ; <span class="comment">// 编译正确</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>成员变量（也叫实例变量  member variable</strong><pre><code>方法外部、类的内部定义的变量。从属于对象，生命周期伴随对象始终。如果不自行初始化，它会自动初始化成该类型的默认初始值。</code></pre></li>
</ul>
<table>
<thead>
<tr>
<th>实例变量的默认初始值</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>数据类型</td>
<td>初始值</td>
</tr>
<tr>
<td>int</td>
<td>0</td>
</tr>
<tr>
<td>double</td>
<td>0.0</td>
</tr>
<tr>
<td>char</td>
<td>‘\u0000’</td>
</tr>
<tr>
<td>boolean</td>
<td>false</td>
</tr>
</tbody></table>
<p> <strong>【示例2-8】实例变量的声明</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>静态变量（类变量 static variable）</strong></li>
</ul>
<p>使用static定义。 从属于类，生命周期伴随类始终，从类加载到卸载。 (注：讲完内存分析后我们再深入！先放一放这个概念！)如果不自行初始化，与成员变量相同会自动初始化成该类型的默认初始值，如表 2-3所示。</p>
<p><strong>课堂练习1：变量的声明并赋值</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LocalVariableTest</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[ ] args)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">boolean</span> flag = <span class="keyword">true</span>;  <span class="comment">// 声明boolean型变量并赋值</span></span><br><span class="line">       <span class="keyword">char</span> c1, c2;   <span class="comment">// 声明char型变量</span></span><br><span class="line">       c1 = <span class="string">'\u0041'</span>;   <span class="comment">// 为char型变量赋值</span></span><br><span class="line">      c2 = <span class="string">'B'</span>;   <span class="comment">// 为char型变量赋值</span></span><br><span class="line">      <span class="keyword">int</span> x;   <span class="comment">// 声明int型变量</span></span><br><span class="line">      x = <span class="number">9</span>;  <span class="comment">//为int型变量赋值  </span></span><br><span class="line">       <span class="keyword">int</span> y = x;  <span class="comment">// 声明并初始化int型变量</span></span><br><span class="line">       <span class="keyword">float</span> f = <span class="number">3.15f</span>;   <span class="comment">// 声明float型变量并赋值</span></span><br><span class="line">      <span class="keyword">double</span> d = <span class="number">3.1415926</span>;  <span class="comment">//声明double型变量并赋值</span></span><br><span class="line">         &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>课堂代码：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试变量</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> 高淇</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestVariable</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">int</span> a;            <span class="comment">//成员变量, 从属于对象； 成员变量会自动被初始化</span></span><br><span class="line">    <span class="keyword">static</span>  <span class="keyword">int</span>  size;   <span class="comment">//静态变量，从属于类</span></span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> age;        <span class="comment">//局部变量，从属于语句块；</span></span><br><span class="line">            age = <span class="number">18</span>;</span><br><span class="line">        &#125;</span><br><span class="line">         </span><br><span class="line">        <span class="keyword">int</span> salary = <span class="number">3000</span>;    <span class="comment">//局部变量，从属于方法</span></span><br><span class="line"> </span><br><span class="line">        <span class="keyword">int</span> gao = <span class="number">13</span>;</span><br><span class="line">        System.out.println(gao);</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">    <span class="comment">//    int j = i + 5; // 编译出错，变量i还未被初始化</span></span><br><span class="line">         </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-5常量"><a href="#2-5常量" class="headerlink" title="2.5常量"></a>2.5常量</h4><p>   常量通常指的是一个固定的值，例如：1、2、3、’a’、’b’、true、false、”helloWorld”等。</p>
<p>   在Java语言中，主要是利用关键字final来定义一个常量。 常量一旦被初始化后不能再更改其值。</p>
<p><strong>声明格式为：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> type varName = value;</span><br></pre></td></tr></table></figure>

<p><strong>【示例2-9】常量的声明及使用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestConstants</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">double</span> PI = <span class="number">3.14</span>;</span><br><span class="line">        <span class="comment">// PI = 3.15; //编译错误，不能再被赋值！ </span></span><br><span class="line">        <span class="keyword">double</span> r = <span class="number">4</span>;</span><br><span class="line">        <span class="keyword">double</span> area = PI * r * r;</span><br><span class="line">        <span class="keyword">double</span> circle = <span class="number">2</span> * PI * r;</span><br><span class="line">        System.out.println(<span class="string">"area = "</span> + area);</span><br><span class="line">        System.out.println(<span class="string">"circle = "</span> + circle);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>为了更好的区分和表述，一般将1、2、3、’a’、’b’、true、false、”helloWorld”等称为字面常量，而使用final修饰的PI等称为符号常量。</p>
<p><strong>老鸟建议</strong></p>
<p>变量和常量命名规范（规范是程序员的基本准则，不规范会直接损害你的个人形象）：</p>
<ol>
<li>所有变量、方法、类名：见名知意</li>
<li>类成员变量：首字母小写和驼峰原则:  monthSalary</li>
<li>局部变量：首字母小写和驼峰原则</li>
<li>常量：大写字母和下划线：MAX_VALUE</li>
<li>类名：首字母大写和驼峰原则:  Man, GoodMan</li>
<li>方法名：首字母小写和驼峰原则: run(), runRun()</li>
</ol>
<h4 id="2-6-基本数据类型-primitive-data-type"><a href="#2-6-基本数据类型-primitive-data-type" class="headerlink" title="2.6 基本数据类型(primitive data type)"></a>2.6 基本数据类型(primitive data type)</h4><p>   Java是一种强类型语言，每个变量都必须声明其数据类型。 Java的数据类型可分为两大类：基本数据类型（primitive data type）和引用数据类型（reference data type）。</p>
<p><strong>Java中定义了3类8种基本数据类型</strong></p>
<ul>
<li>数值型－ byte、 short、int、 long、float、 double</li>
<li>字符型－ char</li>
<li>布尔型－boolean </li>
</ul>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170607/1496834727293971.png" alt="7.png"></p>
<p><strong>图2-2 数据类型的分类</strong></p>
<p><strong>注意事项</strong></p>
<ul>
<li>引用数据类型的大小统一为4个字节，记录的是其引用对象的地址！</li>
<li>本章只讲解基本数据类型。引用数据类型在后续数组和面向对象章节讲解。</li>
</ul>
<h5 id="2-6-1-整型变量-常量"><a href="#2-6-1-整型变量-常量" class="headerlink" title="2.6.1 整型变量/常量"></a>2.6.1 整型变量/常量</h5><p>​    整型用于表示没有小数部分的数值，它允许是负数。整型的范围与运行Java代码的机器无关，这正是Java程序具有很强移植能力的原因之一。与此相反，C和C++程序需要针对不同的处理器选择最有效的整型。</p>
<table>
<thead>
<tr>
<th><strong>表2-4整型数据类型</strong></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>类型</strong></td>
<td><strong>占用存储空间</strong></td>
<td><strong>表数范围</strong></td>
</tr>
<tr>
<td>byte</td>
<td>1字节</td>
<td>-27 ~  27-1（-128~127）</td>
</tr>
<tr>
<td>short</td>
<td>2字节</td>
<td>-215 ~  215-1（-32768~32767）</td>
</tr>
<tr>
<td>int</td>
<td>4字节</td>
<td>-231 ~  231-1 (-2147483648~2147483647)约21亿</td>
</tr>
<tr>
<td>long</td>
<td>8字节</td>
<td>-263 ~  263-1</td>
</tr>
</tbody></table>
<p><strong>Java 语言整型常量的四种表示形式</strong></p>
<ul>
<li>十进制整数，如：99, -500, 0</li>
<li>八进制整数，要求以 0 开头，如：015</li>
<li>十六进制数，要求 0x 或 0X 开头，如：0x15</li>
<li>二进制数，要求0b或0B开头，如：0b01110011</li>
</ul>
<p>Java语言的整型常数默认为int型，声明long型常量可以后加‘ l ’或‘ L ’ 。</p>
<p><strong>【示例2-10】长整型常数的声明</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> a = <span class="number">55555555</span>; <span class="comment">//编译成功，在int表示的范围内(21亿内)。``long b = 55555555555;//不加L编译错误，已经超过int表示的范围。</span></span><br></pre></td></tr></table></figure>

<p><strong>我们修改成long类型的常量即可：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> b = <span class="number">55555555555L</span>;</span><br></pre></td></tr></table></figure>

<h5 id="2-6-2-浮点型变量-常量"><a href="#2-6-2-浮点型变量-常量" class="headerlink" title="2.6.2 浮点型变量/常量"></a>2.6.2 浮点型变量/常量</h5><p>​    带小数的数据在Java中称为浮点型。浮点型可分为float类型和double类型。</p>
<table>
<thead>
<tr>
<th><strong>表2-5浮点型数据类型</strong></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>类型</strong></td>
<td><strong>占用存储空间</strong></td>
<td><strong>表数范围</strong></td>
</tr>
<tr>
<td>float</td>
<td>4字节</td>
<td>-3.403E38~3.403E38</td>
</tr>
<tr>
<td>double</td>
<td>8字节</td>
<td>-1.798E308~1.798E308</td>
</tr>
</tbody></table>
<p>​    float类型又被称作单精度类型，尾数可以精确到7位有效数字，在很多情况下，float类型的精度很难满足需求。而double表示这种类型的数值精度约是float类型的两倍，又被称作双精度类型，绝大部分应用程序都采用double类型。浮点型常量默认类型也是double。</p>
<p><strong>Java浮点类型常量有两种表示形式</strong></p>
<ul>
<li>十进制数形式，例如:3.14    314.0    0.314 </li>
<li>科学记数法形式，如314e2    314E2    314E-2 </li>
</ul>
<p><strong>【示例2-11】使用科学记数法给浮点型变量赋值</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> f = <span class="number">314e2</span>; <span class="comment">//314*10^2--&gt;31400.0``double f2 = 314e-2; //314*10^(-2)--&gt;3.14</span></span><br></pre></td></tr></table></figure>

<p>​    float类型的数值有一个后缀F或者f ，没有后缀F/f的浮点数值默认为double类型。也可以在浮点数值后添加后缀D或者d， 以明确其为double类型。</p>
<p><strong>【示例2-12】float类型赋值时需要添加后缀F/f</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span>  f = <span class="number">3.14F</span>;</span><br><span class="line"><span class="keyword">double</span> d1  = <span class="number">3.14</span>;</span><br><span class="line"><span class="keyword">double</span> d2 = <span class="number">3.14</span>D;</span><br></pre></td></tr></table></figure>

<p><strong>老鸟建议</strong></p>
<ul>
<li>浮点类型float，double的数据不适合在不容许舍入误差的金融计算领域。如果需要进行不产生舍入误差的精确数字计算，需要使用BigDecimal类。</li>
</ul>
<p><strong>【示例2-13】浮点数的比较一</strong> </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span> f = <span class="number">0.1f</span>;</span><br><span class="line"><span class="keyword">double</span> d = <span class="number">1.0</span>/<span class="number">10</span>;</span><br><span class="line">System.out.println(f==d);<span class="comment">//结果为false</span></span><br></pre></td></tr></table></figure>

<p><strong>【示例2-14】浮点数的比较二</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">float</span> d1 = <span class="number">423432423f</span>;</span><br><span class="line"><span class="keyword">float</span> d2 = d1+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(d1==d2)&#123;</span><br><span class="line">   System.out.println(<span class="string">"d1==d2"</span>);<span class="comment">//输出结果为d1==d2</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"d1!=d2"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    运行以上两个示例，发现示例2-13的结果是“false”，而示例2-14的输出结果是“d1==d2”。这是因为由于字长有限，浮点数能够精确表示的数是有限的，因而也是离散的。 浮点数一般都存在舍入误差，很多数字无法精确表示(例如0.1)，其结果只能是接近， 但不等于。二进制浮点数不能精确的表示0.1、0.01、0.001这样10的负次幂。并不是所有的小数都能可以精确的用二进制浮点数表示。</p>
<p>​    java.math包下面的两个有用的类：BigInteger和BigDecimal，这两个类可以处理任意长度的数值。BigInteger实现了任意精度的整数运算。BigDecimal实现了任意精度的浮点运算。</p>
<p><strong>菜鸟雷区</strong></p>
<p>1.不要使用浮点数进行比较！很多新人甚至很多理论不扎实的有工作经验的程序员也会犯这个错误！需要比较请使用BigDecimal类</p>
<p><strong>【示例2-15】使用BigDecimal进行浮点数的比较</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        BigDecimal bd = BigDecimal.valueOf(<span class="number">1.0</span>);</span><br><span class="line">        bd = bd.subtract(BigDecimal.valueOf(<span class="number">0.1</span>));</span><br><span class="line">        bd = bd.subtract(BigDecimal.valueOf(<span class="number">0.1</span>));</span><br><span class="line">        bd = bd.subtract(BigDecimal.valueOf(<span class="number">0.1</span>));</span><br><span class="line">        bd = bd.subtract(BigDecimal.valueOf(<span class="number">0.1</span>));</span><br><span class="line">        bd = bd.subtract(BigDecimal.valueOf(<span class="number">0.1</span>));</span><br><span class="line">        System.out.println(bd);<span class="comment">//0.5</span></span><br><span class="line">        System.out.println(<span class="number">1.0</span> - <span class="number">0.1</span> - <span class="number">0.1</span> - <span class="number">0.1</span> - <span class="number">0.1</span> - <span class="number">0.1</span>);<span class="comment">//0.5000000000000001</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>浮点数使用总结</strong></p>
<ul>
<li>默认是double类型</li>
<li>浮点数存在舍入误差，数字不能精确表示。如果需要进行不产生舍入误差的精确数字计算，需要使用<strong>BigDecimal类。</strong></li>
<li>避免比较中使用浮点数，需要比较请使用BigDecimal类</li>
</ul>
<h5 id="2-6-3-字符型变量-常量"><a href="#2-6-3-字符型变量-常量" class="headerlink" title="2.6.3 字符型变量/常量"></a>2.6.3 字符型变量/常量</h5><p>​    字符型在内存中占2个字节，在Java中使用单引号来表示字符常量。例如’A’是一个字符，它与”A”是不同的，”A”表示含有一个字符的字符串。</p>
<p>​    char 类型用来表示在Unicode编码表中的字符。Unicode编码被设计用来处理各种语言的文字，它占2个字节，可允许有65536个字符。</p>
<p><strong>【示例2-16】字符型举例</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> eChar = <span class="string">'a'</span>;</span><br><span class="line"><span class="keyword">char</span> cChar =<span class="string">'中'</span>;</span><br></pre></td></tr></table></figure>

<p>​    Unicode具有从0到65535之间的编码，他们通常用从’\u0000’到’\uFFFF’之间的十六进制值来表示（前缀为u表示Unicode） </p>
<p><strong>【示例2-17】字符型的十六进制值表示方法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> c = <span class="string">'\u0061'</span>;</span><br></pre></td></tr></table></figure>

<p>​    Java 语言中还允许使用转义字符 ‘\’ 来将其后的字符转变为其它的含义。常用的转义字符及其含义和Unicode值如表2-6所示。</p>
<p><strong>【示例2-18】转义字符</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> c2 = <span class="string">'\n'</span>; <span class="comment">//代表换行符</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><strong>表2-6转义字符</strong></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>转义符</strong></td>
<td><strong>含义</strong></td>
<td><strong>Unicode值</strong></td>
</tr>
<tr>
<td>\b</td>
<td>退格（backspace）</td>
<td>\u0008</td>
</tr>
<tr>
<td>\n</td>
<td>换行</td>
<td>\u000a</td>
</tr>
<tr>
<td>\r</td>
<td>回车</td>
<td>\u000d</td>
</tr>
<tr>
<td>\t</td>
<td>制表符（tab）</td>
<td>\u0009</td>
</tr>
<tr>
<td>\“</td>
<td>双引号</td>
<td>\u0022</td>
</tr>
<tr>
<td>\‘</td>
<td>单引号</td>
<td>\u0027</td>
</tr>
<tr>
<td>\</td>
<td>反斜杠</td>
<td>\u005c</td>
</tr>
</tbody></table>
<p><strong>注意事项</strong></p>
<ul>
<li>以后我们学的String类，其实是字符序列(char sequence)。</li>
</ul>
<p><strong>课堂代码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试字符类型</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> 高淇</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestPrimitiveDataType3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span>  a = <span class="string">'T'</span>;</span><br><span class="line">        <span class="keyword">char</span>  b = <span class="string">'尚'</span>;</span><br><span class="line">        <span class="keyword">char</span> c = <span class="string">'\u0061'</span>;</span><br><span class="line">        System.out.println(c);</span><br><span class="line">         </span><br><span class="line">        <span class="comment">//转义字符</span></span><br><span class="line">        System.out.println(<span class="string">""</span>+<span class="string">'a'</span>+<span class="string">'\n'</span>+<span class="string">'b'</span>); </span><br><span class="line">        System.out.println(<span class="string">""</span>+<span class="string">'a'</span>+<span class="string">'\t'</span>+<span class="string">'b'</span>); </span><br><span class="line">        System.out.println(<span class="string">""</span>+<span class="string">'a'</span>+<span class="string">'\''</span>+<span class="string">'b'</span>);        <span class="comment">//a'b </span></span><br><span class="line">         </span><br><span class="line">         </span><br><span class="line">        <span class="comment">//String就是字符序列</span></span><br><span class="line">        String  d = <span class="string">"abc"</span>;</span><br><span class="line">         </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2-6-4-boolean类型变量-常量"><a href="#2-6-4-boolean类型变量-常量" class="headerlink" title="2.6.4 boolean类型变量/常量"></a>2.6.4 boolean类型变量/常量</h5><p>​    boolean类型有两个常量值，true和false，在内存中占一位（不是一个字节），不可以使用 0 或非 0 的整数替代 true 和 false ，这点和C语言不同。 boolean 类型用来判断逻辑条件，一般用于程序流程控制 。</p>
<p><strong>【示例2-19】boolean类型</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">boolean</span> flag ;</span><br><span class="line">        flag = <span class="keyword">true</span>;   <span class="comment">//或者flag=false;</span></span><br><span class="line">        <span class="keyword">if</span>(flag) &#123;</span><br><span class="line">                 <span class="comment">// true分支</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                 <span class="comment">//  false分支</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>



<p><strong>老鸟建议</strong></p>
<p>  Less is More！！请不要这样写：if ( flag == true )，只有新手才那么写。关键也很容易写错成if(flag=true)，这样就变成赋值flag 为true而不是判断！老鸟的写法是if ( flag )或者if ( !flag)</p>
<h4 id="2-7-运算符-operator"><a href="#2-7-运算符-operator" class="headerlink" title="2.7 运算符(operator)"></a>2.7 运算符(operator)</h4><p>   计算机的最基本用途之一就是执行数学运算，作为一门计算机语言，Java也提供了一套丰富的运算符来操作变量。</p>
<p><strong>表2-7 运算符分类</strong></p>
<table>
<thead>
<tr>
<th>运算符</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>二元运算符（算数运算符）</td>
<td>+，-，*，/，%</td>
</tr>
<tr>
<td>一元运算符（算数运算符）</td>
<td>++，–</td>
</tr>
<tr>
<td>赋值运算符</td>
<td>=</td>
</tr>
<tr>
<td>扩展运算符</td>
<td>+=，-=，*=，/=</td>
</tr>
<tr>
<td>关系运算符</td>
<td>&gt;，&lt;，&gt;=，&lt;=，==，!=  instanceof</td>
</tr>
<tr>
<td>逻辑运算符</td>
<td>&amp;&amp;，||，!，^</td>
</tr>
<tr>
<td>位运算符</td>
<td>&amp;，|，^，~ ， &gt;&gt;，&lt;&lt;，&gt;&gt;&gt;</td>
</tr>
<tr>
<td>条件运算符</td>
<td>? :</td>
</tr>
<tr>
<td>字符串连接符</td>
<td>+</td>
</tr>
</tbody></table>
<h5 id="2-7-1-算术运算符"><a href="#2-7-1-算术运算符" class="headerlink" title="2.7.1 算术运算符"></a>2.7.1 算术运算符</h5><p>　　算术运算符中+，-，*，/，%属于二元运算符，二元运算符指的是需要两个操作数才能完成运算的运算符。其中的%是取模运算符，就是我们常说的求余数操作。</p>
<p>　　<strong>二元运算符的运算规则：</strong></p>
<p>　　<strong>整数运算：</strong></p>
<p>　　1. 如果两个操作数有一个为Long, 则结果也为long。</p>
<p>　　2. 没有long时，结果为int。即使操作数全为short，byte，结果也是int。</p>
<p>　　浮点运算：</p>
<p>　　3. 如果两个操作数有一个为double，则结果为double。</p>
<p>　　4. 只有两个操作数都是float，则结果才为float。</p>
<p>　　<strong>取模运算：</strong></p>
<p>　　1.其操作数可以为浮点数,一般使用整数，结果是“余数”，“余数”符号和左边操作数相同，如：7%3=1，-7%3=-1，7%-3=1。</p>
<p>　　算术运算符中++，–属于一元运算符，该类运算符只需要一个操作数。</p>
<p>　　<strong>【示例2-20】一元运算符++与–</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">int</span> b = a++;   <span class="comment">//执行完后,b=3。先给b赋值，再自增。</span></span><br><span class="line">System.out.println(<span class="string">"a="</span>+a+<span class="string">"\nb="</span>+b);</span><br><span class="line">a = <span class="number">3</span>;</span><br><span class="line">b = ++a;   <span class="comment">//执行完后,c=5。a先自增，再给c赋值</span></span><br><span class="line">System.out.println(<span class="string">"a="</span>+a+<span class="string">"\nb="</span>+b);</span><br></pre></td></tr></table></figure>

<p>　　运行该程序，执行结果如图2-3所示。</p>
<p>　　<img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170608/1496920717563184.png" alt="图片.png"></p>
<p>　　图2-3 示例2-20运行效果图</p>
<h5 id="2-7-2-赋值及其扩展赋值运算符"><a href="#2-7-2-赋值及其扩展赋值运算符" class="headerlink" title="2.7.2 赋值及其扩展赋值运算符"></a>2.7.2 赋值及其扩展赋值运算符</h5><p>　　<strong>表2-8 赋值及其扩展运算符</strong></p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>用法举例</th>
<th>等效的表达式</th>
</tr>
</thead>
<tbody><tr>
<td>+=</td>
<td>a += b</td>
<td>a = a+b</td>
</tr>
<tr>
<td>-=</td>
<td>a -= b</td>
<td>a = a-b</td>
</tr>
<tr>
<td>*=</td>
<td>a *= b</td>
<td>a = a*b</td>
</tr>
<tr>
<td>/=</td>
<td>a *= b</td>
<td>a = a/b</td>
</tr>
<tr>
<td>%=</td>
<td>a *= b</td>
<td>a = a%b</td>
</tr>
</tbody></table>
<p>【示例2-21】扩展运算符</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a=<span class="number">3</span>;</span><br><span class="line"><span class="keyword">int</span> b=<span class="number">4</span>;</span><br><span class="line">a+=b;<span class="comment">//相当于a=a+b;</span></span><br><span class="line">System.out.println(<span class="string">"a="</span>+a+<span class="string">"\nb="</span>+b);</span><br><span class="line">a=<span class="number">3</span>;</span><br><span class="line">a*=b+<span class="number">3</span>;<span class="comment">//相当于a=a*(b+3)</span></span><br><span class="line">System.out.println(<span class="string">"a="</span>+a+<span class="string">"\nb="</span>+b);</span><br></pre></td></tr></table></figure>

<p>　　运行该程序，执行结果如图2-4所示。</p>
<p>　　<img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494930157621902.png" alt="1.png"></p>
<p>　　图2-4 示例2-21运行效果图</p>
<h5 id="2-7-3-关系运算符"><a href="#2-7-3-关系运算符" class="headerlink" title="2.7.3 关系运算符"></a>2.7.3 关系运算符</h5><p>​    关系运算符用来进行比较运算，如表2-9所示。关系运算的结果是布尔值：true/false；</p>
<p><strong>表2-9 关系运算符</strong></p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>含义</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>==</td>
<td>等于</td>
<td>a==b</td>
</tr>
<tr>
<td>!=</td>
<td>不等于</td>
<td>a!=b</td>
</tr>
<tr>
<td>&gt;</td>
<td>大于</td>
<td>a&gt;b</td>
</tr>
<tr>
<td>&lt;</td>
<td>小于</td>
<td>a&lt;b</td>
</tr>
<tr>
<td>&gt;=</td>
<td>大于或等于</td>
<td>a&gt;=b</td>
</tr>
<tr>
<td>&lt;=</td>
<td>小于或等于</td>
<td>a&lt;=b</td>
</tr>
</tbody></table>
<p><strong>注意事项</strong></p>
<ul>
<li>=是赋值运算符，而真正的判断两个操作数是否相等的运算符是==。</li>
<li>==、!= 是所有（基本和引用）数据类型都可以使用</li>
<li>&gt; 、&gt;=、 &lt;、 &lt;= 仅针对数值类型（byte/short/int/long, float/double。以及char）</li>
</ul>
<h5 id="2-7-4-逻辑运算符"><a href="#2-7-4-逻辑运算符" class="headerlink" title="2.7.4 逻辑运算符"></a>2.7.4 逻辑运算符</h5><p>Java中的逻辑运算符如表2-10所示。逻辑运算的操作数和运算结果都是boolean值。</p>
<p><strong>表2-10 逻辑运算符</strong></p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>说明</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>逻辑与</td>
<td>&amp;( 与)</td>
<td>两个操作数为true，结果才是true，否则是false</td>
</tr>
<tr>
<td>逻辑或</td>
<td>|(或)</td>
<td>两个操作数有一个是true，结果就是true</td>
</tr>
<tr>
<td>短路与</td>
<td>&amp;&amp;( 与)</td>
<td>只要有一个为false，则直接返回false</td>
</tr>
<tr>
<td>短路或</td>
<td>||(或)</td>
<td>只要有一个为true， 则直接返回true</td>
</tr>
<tr>
<td>逻辑非</td>
<td>!（非）</td>
<td>取反：!false为true，!true为false</td>
</tr>
<tr>
<td>逻辑异或</td>
<td>^（异或）</td>
<td>相同为false，不同为true</td>
</tr>
</tbody></table>
<p>   短路与和短路或采用短路的方式。从左到右计算，如果只通过运算符左边的操作数就能够确定该逻辑表达式的值，则不会继续计算运算符右边的操作数，提高效率。</p>
<p><strong>【示例2-22】短路与和逻辑与</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1&gt;2的结果为false，那么整个表达式的结果即为false，将不再计算2&gt;(3/0)</span></span><br><span class="line"><span class="keyword">boolean</span> c = <span class="number">1</span>&gt;<span class="number">2</span> &amp;&amp; <span class="number">2</span>&gt;(<span class="number">3</span>/<span class="number">0</span>);</span><br><span class="line">System.out.println(c);</span><br><span class="line"><span class="comment">//1&gt;2的结果为false，那么整个表达式的结果即为false，还要计算2&gt;(3/0)，0不能做除数，//会输出异常信息</span></span><br><span class="line"><span class="keyword">boolean</span> d = <span class="number">1</span>&gt;<span class="number">2</span> &amp; <span class="number">2</span>&gt;(<span class="number">3</span>/<span class="number">0</span>);</span><br><span class="line">System.out.println(d);</span><br></pre></td></tr></table></figure>



<h5 id="2-7-5-位运算符"><a href="#2-7-5-位运算符" class="headerlink" title="2.7.5 位运算符"></a>2.7.5 位运算符</h5><p>位运算指的是进行二进制位的运算，常用的位运算符如表2-11所示。</p>
<p><strong>表2-11 位运算符</strong></p>
<table>
<thead>
<tr>
<th>位运算符</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>~</td>
<td>取反</td>
</tr>
<tr>
<td>&amp;</td>
<td>按位与</td>
</tr>
<tr>
<td>|</td>
<td>按位或</td>
</tr>
<tr>
<td>^</td>
<td>按位异或</td>
</tr>
<tr>
<td>&lt;&lt;</td>
<td>左移运算符，左移1位相当于乘2</td>
</tr>
<tr>
<td>&gt;&gt;</td>
<td>右移运算符，右移1位相当于除2取商</td>
</tr>
</tbody></table>
<p>【示例2-23】左移运算和右移运算</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">3</span>*<span class="number">2</span>*<span class="number">2</span>;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">3</span>&lt;&lt;<span class="number">2</span>; <span class="comment">//相当于：3*2*2;</span></span><br><span class="line"><span class="keyword">int</span> c = <span class="number">12</span>/<span class="number">2</span>/<span class="number">2</span>;</span><br><span class="line"><span class="keyword">int</span> d = <span class="number">12</span>&gt;&gt;<span class="number">2</span>; <span class="comment">//相当于12/2/2;</span></span><br></pre></td></tr></table></figure>

<p>　　<strong>雷区</strong></p>
<p>　1. &amp;和|既是逻辑运算符，也是位运算符。如果两侧操作数都是boolean类型，就作为逻辑运算符。如果两侧的操作数是整数类型，就是位运算符。</p>
<p>　　2. 不要把“^”当做数学运算“乘方”，是“位的异或”操作。</p>
<h5 id="2-7-6-字符串连接符"><a href="#2-7-6-字符串连接符" class="headerlink" title="2.7.6 字符串连接符"></a>2.7.6 字符串连接符</h5><p>  “+”运算符两侧的操作数中只要有一个是字符串(String)类型，系统会自动将另一个操作数转换为字符串然后再进行连接。</p>
<p><strong>【示例2-24】连接符“+”</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a=<span class="number">12</span>;</span><br><span class="line">System.out.println(<span class="string">"a="</span>+a);<span class="comment">//输出结果: a=12</span></span><br></pre></td></tr></table></figure>

<h5 id="2-7-7-条件运算符"><a href="#2-7-7-条件运算符" class="headerlink" title="2.7.7 条件运算符"></a>2.7.7 条件运算符</h5><p><strong>语法格式：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x ? y : z</span><br></pre></td></tr></table></figure>

<p>  其中 x 为 boolean 类型表达式，先计算 x 的值，若为true，则整个运算的结果为表达式 y 的值，否则整个运算结果为表达式 z 的值。</p>
<p><strong>【示例2-25】三目条件运算符</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> score = <span class="number">80</span>; </span><br><span class="line"><span class="keyword">int</span> x = -<span class="number">100</span>;</span><br><span class="line">String type =score&lt;<span class="number">60</span>?<span class="string">"不及格"</span>:<span class="string">"及格"</span>; </span><br><span class="line"><span class="keyword">int</span> flag = x &gt; <span class="number">0</span> ? <span class="number">1</span> : (x == <span class="number">0</span> ? <span class="number">0</span> : -<span class="number">1</span>);</span><br><span class="line">System.out.println(<span class="string">"type= "</span> + type);</span><br><span class="line">System.out.println(<span class="string">"flag= "</span>+ flag);</span><br></pre></td></tr></table></figure>



<p>运行结果如图2-5所示。</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494905474866571.png" alt="1.png"></p>
<p>图2-5 示例2-25运行效果图</p>
<h5 id="2-7-8-运算符优先级的问题"><a href="#2-7-8-运算符优先级的问题" class="headerlink" title="2.7.8 运算符优先级的问题"></a>2.7.8 运算符优先级的问题</h5><p><strong>表2-12 运算符的优先级</strong></p>
<table>
<thead>
<tr>
<th>优先级</th>
<th>运算符</th>
<th>类</th>
<th>结合性</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>()</td>
<td>括号运算符</td>
<td>由左至右</td>
</tr>
<tr>
<td>2</td>
<td>!、+（正号）、-（负号）</td>
<td>一元运算符</td>
<td>由左至右</td>
</tr>
<tr>
<td>2</td>
<td>~</td>
<td>位逻辑运算符</td>
<td>由右至左</td>
</tr>
<tr>
<td>2</td>
<td>++、–</td>
<td>递增与递减运算符</td>
<td>由右至左</td>
</tr>
<tr>
<td>3</td>
<td>*、/、%</td>
<td>算术运算符</td>
<td>由左至右</td>
</tr>
<tr>
<td>4</td>
<td>+、-</td>
<td>算术运算符</td>
<td>由左至右</td>
</tr>
<tr>
<td>5</td>
<td>&lt;&lt;、&gt;&gt;</td>
<td>位左移、右移运算符</td>
<td>由左至右</td>
</tr>
<tr>
<td>6</td>
<td>&gt;、&gt;=、&lt;、&lt;=</td>
<td>关系运算符</td>
<td>由左至右</td>
</tr>
<tr>
<td>7</td>
<td>==、!=</td>
<td>关系运算符</td>
<td>由左至右</td>
</tr>
<tr>
<td>8</td>
<td>&amp;</td>
<td>位运算符、逻辑运算符</td>
<td>由左至右</td>
</tr>
<tr>
<td>9</td>
<td>^</td>
<td>位运算符、逻辑运算符</td>
<td>由左至右</td>
</tr>
<tr>
<td>10</td>
<td>|</td>
<td>位运算符、逻辑运算符</td>
<td>由左至右</td>
</tr>
<tr>
<td>11</td>
<td>&amp;&amp;</td>
<td>逻辑运算符</td>
<td>由左至右</td>
</tr>
<tr>
<td>12</td>
<td>||</td>
<td>逻辑运算符</td>
<td>由左至右</td>
</tr>
<tr>
<td>13</td>
<td>? :</td>
<td>条件运算符</td>
<td>由右至左</td>
</tr>
<tr>
<td>14</td>
<td>=、+=、-=、*=、/=、%=</td>
<td>赋值运算符、扩展运算符</td>
<td>由右至左</td>
</tr>
</tbody></table>
<p><strong>老鸟建议</strong></p>
<ul>
<li>大家不需要去刻意的记这些优先级，表达式里面优先使用小括号来组织！！</li>
<li>逻辑与、逻辑或、逻辑非的优先级一定要熟悉！（逻辑非&gt;逻辑与&gt;逻辑或）。如：</li>
<li>a||b&amp;&amp;c的运算结果是：a||(b&amp;&amp;c)，而不是(a||b)&amp;&amp;c</li>
</ul>
<h4 id="2-8-类型转换"><a href="#2-8-类型转换" class="headerlink" title="2.8 类型转换"></a>2.8 类型转换</h4><h5 id="2-8-1-自动类型转换"><a href="#2-8-1-自动类型转换" class="headerlink" title="2.8.1 自动类型转换"></a>2.8.1 自动类型转换</h5><p>​    自动类型转换指的是容量小的数据类型可以自动转换为容量大的数据类型。如图2-6所示，黑色的实线表示无数据丢失的自动类型转换，而虚线表示在转换时可能会有精度的损失。</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494906265693111.png" alt="1.png"></p>
<p><strong>图2-6 自动类型转换</strong></p>
<p>​    可以将整型常量直接赋值给byte、 short、 char等类型变量，而不需要进行强制类型转换，只要不超出其表数范围即可。</p>
<p><strong>【示例2-26】自动类型转换特例</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">short</span>  b = <span class="number">12</span>;  <span class="comment">//合法</span></span><br><span class="line"><span class="keyword">short</span>  b = <span class="number">1234567</span>;<span class="comment">//非法，1234567超出了short的表数范围</span></span><br></pre></td></tr></table></figure>



<h5 id="2-8-2-强制类型转换"><a href="#2-8-2-强制类型转换" class="headerlink" title="2.8.2 强制类型转换"></a>2.8.2 强制类型转换</h5><p>​    强制类型转换，又被称为造型，用于显式的转换一个数值的类型。在有可能丢失信息的情况下进行的转换是通过造型来完成的，但可能造成精度降低或溢出。</p>
<p><strong>语法格式：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(type)<span class="keyword">var</span></span><br></pre></td></tr></table></figure>



<p>运算符“()”中的type表示将值var想要转换成的目标数据类型。</p>
<p><strong>【示例2-27】强制类型转换</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> x  = <span class="number">3.14</span>; </span><br><span class="line"><span class="keyword">int</span> nx = (<span class="keyword">int</span>)x;   <span class="comment">//值为3</span></span><br><span class="line"><span class="keyword">char</span> c = <span class="string">'a'</span>;</span><br><span class="line"><span class="keyword">int</span> d = c+<span class="number">1</span>;<span class="comment">//自动转化为整数</span></span><br><span class="line">System.out.println(nx);</span><br><span class="line">System.out.println(d);</span><br><span class="line">System.out.println((<span class="keyword">char</span>)d);</span><br></pre></td></tr></table></figure>



<p>运行结果如图2-7所示。</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494906447385004.png" alt="1.png"></p>
<p>图2-7 示例2-27运行效果图</p>
<p>当将一种类型强制转换成另一种类型，而又超出了目标类型的表数范围，就会被截断成为一个完全不同的值。</p>
<p><strong>【示例2-28】强制类型转换特例</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">300</span>;</span><br><span class="line"><span class="keyword">byte</span> bx = (<span class="keyword">byte</span>)x;    <span class="comment">//值为44</span></span><br></pre></td></tr></table></figure>



<p><strong>新手雷区</strong></p>
<p>不能在布尔类型和任何数值类型之间做强制类型转换</p>
<h5 id="2-8-3-基本类型转化时常见错误和问题"><a href="#2-8-3-基本类型转化时常见错误和问题" class="headerlink" title="2.8.3 基本类型转化时常见错误和问题"></a>2.8.3 基本类型转化时常见错误和问题</h5><ul>
<li>操作比较大的数时，要留意是否溢出，尤其是整数操作时。</li>
</ul>
<p><strong>【示例2-29】常见问题一</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> money = <span class="number">1000000000</span>; <span class="comment">//10亿</span></span><br><span class="line"><span class="keyword">int</span> years = <span class="number">20</span>;</span><br><span class="line"><span class="comment">//返回的total是负数，超过了int的范围</span></span><br><span class="line"><span class="keyword">int</span> total = money*years;</span><br><span class="line">System.out.println(<span class="string">"total="</span>+total);</span><br><span class="line"><span class="comment">//返回的total仍然是负数。默认是int，因此结果会转成int值，再转成long。但是已经发生//了数据丢失</span></span><br><span class="line"><span class="keyword">long</span> total1 = money*years; </span><br><span class="line">System.out.println(<span class="string">"total1="</span>+total1);</span><br><span class="line"><span class="comment">//返回的total2正确:先将一个因子变成long，整个表达式发生提升。全部用long来计算。</span></span><br><span class="line"><span class="keyword">long</span> total2 = money*((<span class="keyword">long</span>)years); </span><br><span class="line">System.out.println(<span class="string">"total2="</span>+total2);</span><br></pre></td></tr></table></figure>

<p><strong>运行结果如图2-8所示。</strong></p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494906673550331.png" alt="1.png"></p>
<p>图2-8 示例2-29运行效果图</p>
<ul>
<li><p>L和l 的问题：</p>
<p>不要命名名字为l的变量，l容易和1混淆。long类型使用大写L不要用小写。</p>
</li>
</ul>
<p><strong>【示例2-30】常见问题二</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> l = <span class="number">2</span>; <span class="comment">//分不清是L还是1,</span></span><br><span class="line"><span class="keyword">long</span> a = <span class="number">23451l</span>;<span class="comment">//建议使用大写L</span></span><br><span class="line">System.out.println(l+<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<h4 id="2-9-简单的键盘输入和输出"><a href="#2-9-简单的键盘输入和输出" class="headerlink" title="2.9 简单的键盘输入和输出"></a>2.9 简单的键盘输入和输出</h4><p>​    为了我们能写出更加复杂的程序，可以让我们的程序和用户可以通过键盘交互，我们先学习一下简单的键盘输入和输出。</p>
<p><strong>【示例2-31】使用Scanner获取键盘输入</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>  java.util.Scanner;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试获得键盘输入</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> 高淇</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestScanner</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner   scanner =  <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(<span class="string">"请输入名字："</span>);</span><br><span class="line">        String   name =  scanner.nextLine();</span><br><span class="line">        System.out.println(<span class="string">"请输入你的爱好："</span>);</span><br><span class="line">        String  favor = scanner.nextLine();</span><br><span class="line">        System.out.println(<span class="string">"请输入你的年龄："</span>);</span><br><span class="line">        <span class="keyword">int</span>   age = scanner.nextInt();</span><br><span class="line">         </span><br><span class="line">        System.out.println(<span class="string">"###############"</span>);</span><br><span class="line">        System.out.println(name);</span><br><span class="line">        System.out.println(favor);</span><br><span class="line">        System.out.println(<span class="string">"来到地球的天数："</span>+age*<span class="number">365</span>);</span><br><span class="line">        System.out.println(<span class="string">"离开地球的天数："</span>+(<span class="number">72</span>-age)*<span class="number">365</span>);</span><br><span class="line">         </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>运行结果如图2-9所示。</strong></p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20171018/1508314351247501.png" alt="image.png"></p>
<p>图2-9 示例2-31运行效果图</p>
<h4 id="第二章-总结"><a href="#第二章-总结" class="headerlink" title="第二章 总结"></a>第二章 总结</h4><p><strong>1.</strong>注释可以提高程序的可读性。可划分为</p>
<p>2.单行注释  //</p>
<p>3.多行注释  /<em>…</em>/</p>
<p>4.文档注释  /<em>*…</em>/</p>
<p>5.标识符的命名规则：</p>
<p>6.标识符必须以字母、下划线_、美元符号$开头。  </p>
<p>7.标识符其它部分可以是字母、下划线“_”、美元符“$”和数字的任意组合。</p>
<p>8.Java 标识符大小写敏感，且长度无限制。</p>
<p>9.标识符不可以是Java的关键字。</p>
<p>10.标识符的命名规范</p>
<p>11.表示类名的标识符：每个单词的首字母大写，如Man, GoodMan</p>
<p>12.表示方法和变量的标识符：第一个单词小写，从第二个单词开始首字母大写，我们称之为“驼峰原则”，如eat(), eatFood()</p>
<p>13.变量的声明格式：</p>
<p>type  varName  [=value] [,varName[=value]…];</p>
<p>14.变量的分类：局部变量、实例变量、静态变量</p>
<p>15.常量的声名格式</p>
<p>final  type  varName = value ;</p>
<p>16.Java的数据类型可分为基本数据类型和引用数据类，基本数据类型的分类如下：</p>
<p>17.整型变量：byte、short、int、long</p>
<p>18.浮点型：float、double</p>
<p>19.字符型：char</p>
<p>20.布尔型:boolean，值为true或者false</p>
<p>21.Java语言支持的运算符可分为：</p>
<p>22.算术运算符:  +，-，*，/，%，++，–</p>
<p>23.赋值运算符 = </p>
<p>24.扩展赋值运算符:+=，-=，*=，/= </p>
<p>25.关系运算符:  &gt;，&lt;，&gt;=，&lt;=，==，!= ，instanceof</p>
<p>26.逻辑运算符:  &amp;&amp;，||，!</p>
<p>27.位运算符:  &amp;，|，^，~ ， &gt;&gt;，&lt;&lt;，&gt;&gt;&gt; </p>
<p>28.字符串连接符：+</p>
<p>29.条件运算符 ？： </p>
<p>30.基本数据类型的类型转换可分为：</p>
<p>31.自动类型转换：容量小的数据类型可以自动转换为容量大的数据类型</p>
<p>32.强制类型转换：用于显式的转换一个数值的类型，语法格式：(type)var</p>
<p>33.键盘的输入：Scanner类的使用</p>
<h4 id="第二章-作业"><a href="#第二章-作业" class="headerlink" title="第二章 作业"></a>第二章 作业</h4><p><strong>一、选择题</strong></p>
<p>1.以下选项中属于合法的Java标识符的是（   ）。（选择二项）</p>
<p>A.public</p>
<p>B.3num</p>
<p>C.name</p>
<p>D._age</p>
<p>2.下面的代码段中，执行之后i和j的值是（   ）。（选择一项）</p>
<p>int i=1;  int j;</p>
<p>j=i++;</p>
<p>A1，1</p>
<p>B.1，2</p>
<p>C.2，1</p>
<p>D.2，2</p>
<p>3.下面的赋值语句中错误的是（   ）。（选择一项）</p>
<p>Afloat f = 11.1;   </p>
<p>B.double d = 5.3E12;</p>
<p>C.double d = 3.14159;</p>
<p>D.double d = 3.14D;</p>
<p>4.在Java中，下面（   ）语句能正确通过编译。（选择二项）</p>
<p>ASystem.out.println(1+1);</p>
<p>B.char i =2+’2’;</p>
<p>System.out.println(i);</p>
<p>C.String s=”on”+’one’;</p>
<p>D.int b=255.0;</p>
<p>5.以下Java运算符中优先级别最低的两个选项是（   ）。（选择二项）</p>
<p>A赋值运算符=</p>
<p>B.条件运算符 ?=</p>
<p>C.逻辑运算符|</p>
<p>D.算术运算符+</p>
<p><strong>二、简答题</strong></p>
<p>1.Java是一种强类型语言，说明Java的数据类型分类。</p>
<p>2.i++和++i的异同之处</p>
<p>3.运算符||和|的异同之处</p>
<p>4.Java中基本数据类型转换的规则</p>
<p><strong>三、编码题</strong></p>
<p>1.输入圆形半径，求圆形的周长和圆形的面积，并将结果输出。</p>
<p>​    <img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20171020/1508466699775268.png" alt="image.png"></p>
<p>2.银行利率表如下表所示，请计算存款10000元，活期1年、活期2年，定期1年，定期2年后的本息合计。</p>
<p>  <img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20171020/1508466715983944.png" alt="image.png"></p>
<p>结果如下图所示（结果四舍五入，不保留小数位。使用Math.round(double d)实现）。</p>
<p>  <img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20171020/1508466722406908.png" alt="image.png"></p>
<p>3.某个公司采用公用电话传递数据，数据是四位的整数，在传递过程中是加密的，加密规则如下：每位数字都加上5,然后用和除以10的余数代替该数字，再将第一位和第四位交换，第二位和第三位交换。结果如图所示。</p>
<p>  <img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20171020/1508466734474382.png" alt="image.png"></p>
<h5 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h5><p>一.</p>
<p>1.CD  2.C  3.A  4.AB  5.AB</p>
<p>二.</p>
<ol>
<li>Java是一种强类型语言，每个变量都必须声明其数据类型。 Java的数据类型可分为两大类：基本数据类型（primitive data type）和引用数据类型（reference data type）。</li>
</ol>
<p>​        Java中定义了3类8种基本数据类型</p>
<ul>
<li>数值型－ byte、 short、int、 long、float、 double</li>
<li>字符型－ char</li>
<li>布尔型－boolean </li>
</ul>
<p>2.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">int</span> b = a++;   <span class="comment">//执行完后,b=3。先给b赋值，再自增。</span></span><br><span class="line">System.out.println(<span class="string">"a="</span>+a+<span class="string">"\nb="</span>+b);</span><br><span class="line">a = <span class="number">3</span>;</span><br><span class="line">b = ++a;   <span class="comment">//执行完后,c=5。a先自增，再给c赋值</span></span><br><span class="line">System.out.println(<span class="string">"a="</span>+a+<span class="string">"\nb="</span>+b);</span><br></pre></td></tr></table></figure>

<p>3.</p>
<p>|是按位或，||是或运算符，前者是位运算符，后者是逻辑运算符</p>
<p>4.</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494906265693111.png" alt="1.png"></p>
<p>黑色的实线表示无数据丢失的自动类型转换，而虚线表示在转换时可能会有精度的损失。</p>
<p>三.</p>
<p>1.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 第二章练习题1</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Practice</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		System.out.println(<span class="string">"请输入圆的半径："</span>);</span><br><span class="line">		<span class="keyword">double</span> r = scanner.nextDouble();</span><br><span class="line">		System.out.println(<span class="string">"该圆的半径：R="</span>+r);</span><br><span class="line">		System.out.println(<span class="string">"该圆的周长为：C=2*3.14*"</span>+r+<span class="string">"="</span>+<span class="number">2</span>*<span class="number">3.14</span>*r);</span><br><span class="line">		System.out.println(<span class="string">"该圆的面积为：S=3.14*"</span>+r+<span class="string">"*"</span>+r+<span class="string">"="</span>+<span class="number">3.14</span>*r*r);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.</p>
<p>公司活bai期：本金×实际天数×利率/360，遇到基准利率调整分du段计算；<br>公司定期：本金zhi×存入月数×利率dao/12，一般一年以内存期分为三个月、六个月、一年；<br>个人活期；本金×实际天数×利率/360，遇到基准利率调整不分段计算；<br>个人定期：本金×存入月数×利率/12，一般一年以内存期分为三个月、六个月、一年。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 第二章练习题2</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Practice2</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"本金："</span>);</span><br><span class="line">		Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> totalMoney = scanner.nextInt();</span><br><span class="line">	</span><br><span class="line">		<span class="comment">//活期一年</span></span><br><span class="line">		<span class="keyword">double</span> oneYear1 = totalMoney*<span class="number">0.0035</span>+totalMoney;</span><br><span class="line">		<span class="comment">//活期两年</span></span><br><span class="line">		<span class="keyword">double</span> twoYear1 = totalMoney*<span class="number">0.0035</span>*<span class="number">2</span>+totalMoney;</span><br><span class="line">		<span class="comment">//定期一年</span></span><br><span class="line">		<span class="keyword">double</span> oneYear2 = totalMoney*<span class="number">1.50</span>*<span class="number">0.01</span>+totalMoney;</span><br><span class="line">		<span class="comment">//定期两年</span></span><br><span class="line">		<span class="keyword">double</span> twoYear2 = totalMoney*<span class="number">2.1</span>*<span class="number">2</span>*<span class="number">0.01</span>+totalMoney;</span><br><span class="line">		<span class="comment">//结果四舍五入，不保留小数位。使用Math.round(double d)实现</span></span><br><span class="line">		System.out.println(<span class="string">"活期1年本金总计:"</span>+Math.round(oneYear1));</span><br><span class="line">		System.out.println(<span class="string">"定期1年本金总计:"</span>+Math.round(oneYear2));</span><br><span class="line">		System.out.println(<span class="string">"活期2年本金总计:"</span>+Math.round(twoYear1));</span><br><span class="line">		System.out.println(<span class="string">"定期2年本金总计:"</span>+Math.round(twoYear2));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 练习三</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Practice3</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"请输入一个整数："</span>);</span><br><span class="line">		Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> code = scanner.nextInt();</span><br><span class="line">		<span class="keyword">int</span> a1 = code%<span class="number">10</span>;<span class="comment">//个位数字</span></span><br><span class="line">		<span class="keyword">int</span> a2 = (code/<span class="number">10</span>)%<span class="number">10</span>;<span class="comment">//十位数字</span></span><br><span class="line">		<span class="keyword">int</span> a3 = (code/<span class="number">100</span>)%<span class="number">10</span>;<span class="comment">//百位数字</span></span><br><span class="line">		<span class="keyword">int</span> a4 = code/<span class="number">1000</span>;<span class="comment">//千位数字</span></span><br><span class="line">		a1 = (a1+<span class="number">5</span>)%<span class="number">10</span>;</span><br><span class="line">		a2 = (a2+<span class="number">5</span>)%<span class="number">10</span>;</span><br><span class="line">		a3 = (a3+<span class="number">5</span>)%<span class="number">10</span>;</span><br><span class="line">		a4 = (a4+<span class="number">5</span>)%<span class="number">10</span>;</span><br><span class="line">		<span class="keyword">int</span> temp;</span><br><span class="line">		temp = a1;</span><br><span class="line">		a1 = a4;</span><br><span class="line">		a4 = temp;</span><br><span class="line">		temp = a2;</span><br><span class="line">		a2 = a3;</span><br><span class="line">		a3 = temp;</span><br><span class="line">		<span class="keyword">int</span> code2 = a1*<span class="number">1</span>+a2*<span class="number">10</span>+a3*<span class="number">100</span>+a4*<span class="number">1000</span>;</span><br><span class="line">		System.out.println(<span class="string">"加密后的数字为："</span>+code2);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h3 id="第三章-控制语句"><a href="#第三章-控制语句" class="headerlink" title="第三章 控制语句"></a>第三章 控制语句</h3><p>   本章开始我们需要学习流程控制语句，流程控制语句是用来控制程序中各语句执行顺序的语句，可以把语句组合成能完成一定功能的小逻辑模块。控制语句分为三类：顺序、选择和循环。</p>
<p>   “顺序结构”代表“先执行a，再执行b”的逻辑。比如，先找个女朋友，再给女朋友打电话；先订婚，再结婚；</p>
<p>   “选择结构”代表“如果…，则…”的逻辑。比如，如果女朋友来电，则迅速接电话；如果看到红灯，则停车；</p>
<p>   “循环结构”代表“如果…，则再继续…”的逻辑。比如，如果没打通女朋友电话，则再继续打一次； 如果没找到喜欢的人，则再继续找。</p>
<p>   前面两章讲解的程序都是顺序结构，，即按照书写顺序执行每一条语句，这并不是我们的重点，因此本章研究的重点是“选择结构”和“循环结构”。</p>
<p>   很神奇的是，三种流程控制语句就能表示所有的事情！不信，你可以试试拆分你遇到的各种事情。实际上，任何软件和程序，小到一个练习，大到一个操作系统，本质上都是由“变量、选择语句、循环语句”组成。</p>
<p>   这三种基本逻辑结构是相互支撑的，它们共同构成了算法的基本结构，无论怎样复杂的逻辑结构，都可以通过它们来表达。上述两种结构组成的程序可以解决全部的问题，所以任何一种高级语言都具备上述两种结构。</p>
<p>   因此，本章是大家真正跨入编程界的“门槛”，是成为“程序猿”的“门票”。 本章后面会附加大量的练习，供大家提升自我。</p>
<h4 id="3-1-选择结构"><a href="#3-1-选择结构" class="headerlink" title="3.1 选择结构"></a>3.1 选择结构</h4><p>   在还没有知道Java选择结构的时候，我们编写的程序总是从程序入口开始，顺序执行每一条语句直到执行完最后一条语句结束，但是生活中经常需要进行条件判断，根据判断结果决定是否做一件事情，这就需要选择结构。</p>
<p>   选择结构用于判断给定的条件，然后根据判断的结果来控制程序的流程。</p>
<p>​    主要的选择结构有：if选择结构和switch多选择结构。有如下结构：</p>
<ol>
<li>if单选择结构</li>
<li>if-else双选择结构</li>
<li>if-else if-else多选择结构</li>
<li>switch结构</li>
</ol>
<h5 id="3-1-1-if单选择结构"><a href="#3-1-1-if单选择结构" class="headerlink" title="3.1.1 if单选择结构"></a>3.1.1 if单选择结构</h5><p><strong>语法结构:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(布尔表达式)&#123;</span><br><span class="line">    语句块</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   if语句对布尔表达式进行一次判定，若判定为真，则执行{}中的语句块，否则跳过该语句块。流程图如图3-1所示。</p>
<p><strong>图3-1 if单选择结构流程图</strong></p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494915015552935.png" alt="1.png"></p>
<p><strong>【示例3-1】if单选择结构</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//通过掷三个骰子看看今天的手气如何？</span></span><br><span class="line">        <span class="keyword">int</span> i = (<span class="keyword">int</span>)(<span class="number">6</span> * Math.random()) + <span class="number">1</span>;<span class="comment">//通过Math.random()产生随机数</span></span><br><span class="line">        <span class="keyword">int</span> j = (<span class="keyword">int</span>)(<span class="number">6</span> * Math.random()) + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> k = (<span class="keyword">int</span>)(<span class="number">6</span> * Math.random()) + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> count = i + j + k;</span><br><span class="line">        <span class="comment">//如果三个骰子之和大于15，则手气不错</span></span><br><span class="line">        <span class="keyword">if</span>(count &gt; <span class="number">15</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">"今天手气不错"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//如果三个骰子之和在10到15之间，则手气一般</span></span><br><span class="line">        <span class="keyword">if</span>(count &gt;= <span class="number">10</span> &amp;&amp; count &lt;= <span class="number">15</span>) &#123; <span class="comment">//错误写法：10&lt;=count&lt;=15</span></span><br><span class="line">            System.out.println(<span class="string">"今天手气很一般"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//如果三个骰子之和小于10，则手气不怎么样</span></span><br><span class="line">        <span class="keyword">if</span>(count &lt; <span class="number">10</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">"今天手气不怎么样"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"得了"</span> + count + <span class="string">"分"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170517/1494983790710364.png" alt="图片1.png"></p>
<p>图3-2 示例3-1运行效果图</p>
<p><strong>Math类的使用</strong></p>
<p>   1<strong>.</strong>java.lang包中的Math类提供了一些用于数学计算的方法。</p>
<p>   2.Math.random()该方法用于产生一个0到1区间的double类型的随机数，但是不包括1。</p>
<p>​    int i = (int) (6 * Math.random()); //产生：[0，5]之间的随机整数</p>
<p><strong>新手雷区</strong></p>
<p>   1.如果if语句不写{}，则只能作用于后面的第一条语句。 </p>
<p>   2.强烈建议，任何时候都写上{}，即使里面只有一句话！</p>
<h5 id="3-1-2-if-else双选择结构"><a href="#3-1-2-if-else双选择结构" class="headerlink" title="3.1.2 if-else双选择结构"></a>3.1.2 if-else双选择结构</h5><p><strong>语法结构:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(布尔表达式)&#123;</span><br><span class="line"> 语句块<span class="number">1</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">       语句块<span class="number">2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   当布尔表达式为真时，执行语句块1，否则，执行语句块2。也就是else部分。流程图如图3-3所示。</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494917663543171.png" alt="1.png"></p>
<p>图3-3 if-else双选择结构流程图</p>
<p><strong>【示例3-2】if-else结构</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//随机产生一个[0.0, 4.0)区间的半径，并根据半径求圆的面积和周长</span></span><br><span class="line">        <span class="keyword">double</span> r = <span class="number">4</span> * Math.random();</span><br><span class="line">       <span class="comment">//Math.pow(r, 2)求半径r的平方</span></span><br><span class="line">        <span class="keyword">double</span> area = Math.PI * Math.pow(r, <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">double</span> circle = <span class="number">2</span> * Math.PI * r;</span><br><span class="line">        System.out.println(<span class="string">"半径为： "</span> + r);</span><br><span class="line">        System.out.println(<span class="string">"面积为： "</span> + area);</span><br><span class="line">        System.out.println(<span class="string">"周长为： "</span> + circle);</span><br><span class="line">        <span class="comment">//如果面积&gt;=周长，则输出"面积大于等于周长"，否则，输出周长大于面积</span></span><br><span class="line">        <span class="keyword">if</span>(area &gt;= circle) &#123;</span><br><span class="line">            System.out.println(<span class="string">"面积大于等于周长"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"周长大于面积"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494917747605880.png" alt="2.png"></p>
<p>图3-4 示例3-2运行效果图</p>
<p>   条件运算符有时候可用于代替if-else，如示例3-3与示例3-4所示。</p>
<p><strong>【示例3-3】使用if-else</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a=<span class="number">2</span>; </span><br><span class="line">        <span class="keyword">int</span> b=<span class="number">3</span>;</span><br><span class="line">        <span class="keyword">if</span> (a&lt;b) &#123;</span><br><span class="line">            System.out.println(a);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(b);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494917807854177.png" alt="3.png"></p>
<p>图3-5 示例3-3运行效果图</p>
<p><strong>【示例3-4】使用条件运算符</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test4</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a=<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> b=<span class="number">3</span>;</span><br><span class="line">        System.out.println((a&lt;b)?a:b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494917862967746.png" alt="4.png"></p>
<p>图3-6 示例3-4运行效果图</p>
<h5 id="3-1-3-if-else-if-else多选择结构"><a href="#3-1-3-if-else-if-else多选择结构" class="headerlink" title="3.1.3 if-else if-else多选择结构"></a>3.1.3 if-else if-else多选择结构</h5><p><strong>语法结构：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(布尔表达式<span class="number">1</span>) &#123;</span><br><span class="line">语句块<span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(布尔表达式<span class="number">2</span>) &#123;</span><br><span class="line">语句块<span class="number">2</span>;</span><br><span class="line">&#125;……</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(布尔表达式n)&#123;</span><br><span class="line">    语句块n;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    语句块n+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   当布尔表达式1为真时，执行语句块1;否则，判断布尔表达式2，当布尔表达式2为真时，执行语句块2;否则，继续判断布尔表达式3······;如果1~n个布尔表达式均判定为假时，则执行语句块n+1，也就是else部分。流程图如图3-7所示。</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494918202257279.png" alt="1.png"></p>
<p>图3-7 if-else if-else多选择结构流程图</p>
<p><strong>【示例3-5】if-else if-else多选择结构</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test5</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> age = (<span class="keyword">int</span>) (<span class="number">100</span> * Math.random());</span><br><span class="line">        System.out.print(<span class="string">"年龄是"</span> + age + <span class="string">"， 属于"</span>);</span><br><span class="line">        <span class="keyword">if</span> (age &lt; <span class="number">15</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">"儿童， 喜欢玩！"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (age &lt; <span class="number">25</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">"青年， 要学习！"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (age &lt; <span class="number">45</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">"中年， 要工作！"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (age &lt; <span class="number">65</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">"中老年， 要补钙！"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (age &lt; <span class="number">85</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">"老年， 多运动！"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"老寿星， 古来稀！"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494918283781121.png" alt="2.png"></p>
<p>图3-8 示例3-5运行效果图1</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494918291733484.png" alt="3.png"></p>
<p>图3-9 示例3-5运行效果图2</p>
<p><strong>课堂练习</strong></p>
<p><strong>仿照【示例3-5】，实现如下功能：</strong></p>
<p>   随机生成一个100以内的成绩，当成绩在85及以上的时候输出”等级A”，70以上到84之间输出”等级B”，60到69之间输出”等级C”，60以下输出”等级D”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> score = (<span class="keyword">int</span>)(<span class="number">100</span>*Math.random());</span><br><span class="line">		System.out.println(<span class="string">"分数是："</span> + score);</span><br><span class="line">		<span class="keyword">if</span> (score &gt;= <span class="number">85</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">"等级A"</span>);</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(score &gt;= <span class="number">70</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">"等级B"</span>);</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(score &gt;=<span class="number">60</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">"等级C"</span>);</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">"等级D"</span>);</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3-1-4-switch多选择结构"><a href="#3-1-4-switch多选择结构" class="headerlink" title="3.1.4 switch多选择结构"></a>3.1.4 switch多选择结构</h5><p><strong>语法结构：</strong>　</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (表达式) &#123;</span><br><span class="line"><span class="keyword">case</span> 值<span class="number">1</span>: </span><br><span class="line">语句序列<span class="number">1</span>;</span><br><span class="line">[<span class="keyword">break</span>];</span><br><span class="line"><span class="keyword">case</span> 值<span class="number">2</span>:</span><br><span class="line"> 语句序列<span class="number">2</span>;</span><br><span class="line">[<span class="keyword">break</span>];</span><br><span class="line">     … … …      … …</span><br><span class="line">[<span class="keyword">default</span>:</span><br><span class="line"> 默认语句;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   switch语句会根据表达式的值从相匹配的case标签处开始执行，一直执行到break语句处或者是switch语句的末尾。如果表达式的值与任一case值不匹配，则进入default语句(如果存在default语句的情况)。</p>
<p>   根据表达式值的不同可以执行许多不同的操作。switch语句中case标签在JDK1.5之前必须是整数(long类型除外)或者枚举，不能是字符串，在JDK1.7之后允许使用字符串(String)。</p>
<p>   大家要注意，当布尔表达式是等值判断的情况，可以使用if-else if-else多选择结构或者switch结构，如果布尔表达式区间判断的情况，则只能使用if-else if-else多选择结构。</p>
<p>   switch多选择结构的流程图如图3-10所示。</p>
<p>　　</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494918663569372.png" alt="1.png"></p>
<p>图3-10 switch多选择结构流程图</p>
<p><strong>【示例3-6】switch结构</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test6</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span> c = <span class="string">'a'</span>;</span><br><span class="line">        <span class="keyword">int</span> rand = (<span class="keyword">int</span>) (<span class="number">26</span> * Math.random());</span><br><span class="line">        <span class="keyword">char</span> c2 = (<span class="keyword">char</span>) (c + rand);</span><br><span class="line">        System.out.print(c2 + <span class="string">": "</span>);<span class="comment">//注意此处不可以为单引号，否则输出的c2为int整数</span></span><br><span class="line">        <span class="comment">//c2等于谁就从谁开始，然后之后的语句会一条条执行，除非碰到break或者default</span></span><br><span class="line">        <span class="keyword">switch</span> (c2) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'a'</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'e'</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'i'</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'o'</span>:       </span><br><span class="line">        <span class="keyword">case</span> <span class="string">'u'</span>:</span><br><span class="line">                <span class="comment">//c2=a后这条语句仍然会执行</span></span><br><span class="line">            System.out.println(<span class="string">"元音"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'y'</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'w'</span>:</span><br><span class="line">            System.out.println(<span class="string">"半元音"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            System.out.println(<span class="string">"辅音"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494918740540880.png" alt="2.png"></p>
<p>图3-11 示例3-6运行效果图1</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494918747692225.png" alt="3.png"></p>
<p>图3-12 示例3-6运行效果图2</p>
<h4 id="3-2-循环结构"><a href="#3-2-循环结构" class="headerlink" title="3.2 循环结构"></a>3.2 循环结构</h4><p>   循环结构分两大类，一类是当型，一类是直到型。</p>
<p> <strong>当型：</strong></p>
<p>   当布尔表达式条件为true时，反复执行某语句，当布尔表达式的值为false时才停止循环，比如：while与for循环。</p>
<p> <strong>直到型：</strong></p>
<p>   先执行某语句， 再判断布尔表达式，如果为true，再执行某语句，如此反复，直到布尔表达式条件为false时才停止循环，比如do-while循环。</p>
<h5 id="3-2-1-while循环"><a href="#3-2-1-while循环" class="headerlink" title="3.2.1 while循环"></a>3.2.1 while循环</h5><p><strong>语法结构：</strong>　</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (布尔表达式) &#123;</span><br><span class="line">    循环体;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   在循环刚开始时，会计算一次“布尔表达式”的值，若条件为真，执行循环体。而对于后来每一次额外的循环，都会在开始前重新计算一次。</p>
<p>   语句中应有使循环趋向于结束的语句，否则会出现无限循环–––”死”循环。</p>
<p>   while循环结构流程图如图3.13所示。</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494919125339101.png" alt="1.png"></p>
<p>图3-13 while流程图</p>
<p><strong>【示例3-7】while循环结构：求1到100之间的累加和</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test7</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>  i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span>  sum = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 1+2+3+…+100=?</span></span><br><span class="line">        <span class="keyword">while</span> (i &lt;= <span class="number">100</span>) &#123;</span><br><span class="line">            sum += i;<span class="comment">//相当于sum = sum+i;</span></span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"Sum= "</span> + sum);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494919188264576.png" alt="2.png"></p>
<p>图3-14 示例3-7运行效果图</p>
<h5 id="3-2-2-do-while循环"><a href="#3-2-2-do-while循环" class="headerlink" title="3.2.2 do-while循环"></a>3.2.2 do-while循环</h5><p><strong>语法结构：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">        循环体;</span><br><span class="line">     &#125; <span class="keyword">while</span>(布尔表达式) ;</span><br></pre></td></tr></table></figure>

<p>   do-while循环结构会先执行循环体，然后再判断布尔表达式的值，若条件为真，执行循环体，当条件为假时结束循环。do-while循环的循环体至少执行一次。do-while循环结构流程图如图3.15所示。</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494919347187056.png" alt="1.png"></p>
<p>图3-15 do-while流程图</p>
<p><strong>【示例3-8】do-while循环结构：1-100之间的累加和</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test8</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            sum += i; <span class="comment">// sum = sum + i</span></span><br><span class="line">            i++;</span><br><span class="line">        &#125; <span class="keyword">while</span> (i &lt;= <span class="number">100</span>);<span class="comment">//此处的；不能省略</span></span><br><span class="line">        System.out.println(<span class="string">"Sum= "</span> + sum);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494919404947497.png" alt="2.png"></p>
<p>图3-16 示例3-8运行效果图</p>
<p><strong>【示例3-9】while与do-while的区别</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test9</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//while循环：先判断再执行</span></span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (a &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(a);</span><br><span class="line">            a++;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"-----"</span>);</span><br><span class="line">        <span class="comment">//do-while循环：先执行再判断</span></span><br><span class="line">        a = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            System.out.println(a);</span><br><span class="line">            a++;</span><br><span class="line">        &#125; <span class="keyword">while</span> (a &lt; <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494919475143305.png" alt="3.png"></p>
<p>图3-17 示例3-9运行效果图</p>
<p>   从运行效图中可以看出do-while总是保证循环体至少会被执行一次!</p>
<h5 id="3-2-3-for循环"><a href="#3-2-3-for循环" class="headerlink" title="3.2.3 for循环"></a>3.2.3 for循环</h5><p><strong>语法结构：</strong>　　</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (初始表达式; 布尔表达式; 迭代因子) &#123;</span><br><span class="line">      循环体;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   for循环语句是支持迭代的一种通用结构，是最有效、最灵活的循环结构。for循环在第一次反复之前要进行初始化，即执行初始表达式;随后，对布尔表达式进行判定，若判定结果为true，则执行循环体，否则，终止循环;最后在每一次反复的时候，进行某种形式的“步进”，即执行迭代因子。</p>
<p>   A. 初始化部分设置循环变量的初值</p>
<p>   B. 条件判断部分为任意布尔表达式</p>
<p>   C. 迭代因子控制循环变量的增减</p>
<p>   for循环在执行条件判定后，先执行的循环体部分，再执行步进。</p>
<p>   for循环结构的流程图如图3-18所示。</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494919708427157.png" alt="1.png"></p>
<p>图3-18 for循环流程图</p>
<p><strong>【示例3-10】for循环</strong>　　</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test10</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//1.求1-100之间的累加和</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">            sum += i;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"Sum= "</span> + sum);</span><br><span class="line">        <span class="comment">//2.循环输出9-1之间的数</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">9</span>;i&gt;<span class="number">0</span>;i--)&#123;</span><br><span class="line">            System.out.print(i+<span class="string">"、"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        <span class="comment">//3.输出90-1之间能被3整除的数</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">90</span>;i&gt;<span class="number">0</span>;i-=<span class="number">3</span>)&#123;</span><br><span class="line">            System.out.print(i+<span class="string">"、"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494919882344126.png" alt="2.png"></p>
<p>图3-19 示例3-10运行效果图</p>
<p>   Java里能用到逗号运算符的地方屈指可数，其中一处就是for循环的控制表达式。在控制表达式的初始化和步进控制部分，我们可以使用一系列由逗号分隔的表达式，而且那些表达式均会独立执行。</p>
<p><strong>【示例3-11】逗号运算符</strong>　</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test11</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>, j = i + <span class="number">10</span>; i &lt; <span class="number">5</span>; i++, j = i * <span class="number">2</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">"i= "</span> + i + <span class="string">" j= "</span> + j); </span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494919920133938.png" alt="3.png"></p>
<p>图3-20 示例3-11运行效果图</p>
<p>   \1. 无论在初始化还是在步进部分，语句都是顺序执行的。</p>
<p>   \2. 尽管初始化部分可设置任意数量的定义，但都属于同一类型。</p>
<p>   \3. 约定:只在for语句的控制表达式中写入与循环变量初始化，条件判断和迭代因子相关的表达式。</p>
<p>   初始化部分、条件判断部分和迭代因子可以为空语句，但必须以“;”分开，如示例3-12所示。</p>
<p><strong>【示例3-12】无限循环</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test12</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">for</span> ( ; ; ) &#123;    <span class="comment">// 无限循环: 相当于 while(true)</span></span><br><span class="line">            System.out.println(<span class="string">"北京尚学堂"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   编译器将while(true)与for(;;)看作同一回事，都指的是无限循环。</p>
<p>   在for语句的初始化部分声明的变量，其作用域为整个for循环体，不能在循环外部使用该变量。如示例3-13所示。</p>
<p><strong>【示例3-13】初始化变量的作用域</strong></p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494920002726434.png" alt="4.png"></p>
<h5 id="3-2-4-嵌套循环"><a href="#3-2-4-嵌套循环" class="headerlink" title="3.2.4 嵌套循环"></a>3.2.4 嵌套循环</h5><p>   在一个循环语句内部再嵌套一个或多个循环，称为嵌套循环。while、do-while与for循环可以任意嵌套多层。</p>
<p><strong>【示例3-14】嵌套循环</strong>　</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test14</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i &lt;=<span class="number">5</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=<span class="number">5</span>; j++)&#123;</span><br><span class="line">                System.out.print(i+<span class="string">"  "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494920185494188.png" alt="1.png"></p>
<p>图3-21 示例3-14运行效果图</p>
<p><strong>【示例3-15】使用嵌套循环实现九九乘法表</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test15</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++) &#123; <span class="comment">// i是一个乘数</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= i; j++) &#123; <span class="comment">// j是另一个乘数</span></span><br><span class="line">                System.out.print(j + <span class="string">"*"</span> + i + <span class="string">"="</span> + (i * j &lt; <span class="number">10</span> ? (<span class="string">" "</span> + i * j) : i * j) + <span class="string">"  "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494920241544320.png" alt="2.png"></p>
<p>图3-22 示例3-15运行效果图</p>
<p><strong>课堂练习</strong></p>
<ol>
<li><p>用while循环分别计算100以内的奇数及偶数的和，并输出。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">      <span class="keyword">int</span> i = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">int</span> j = <span class="number">99</span>;</span><br><span class="line"><span class="keyword">int</span> sum1 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> sum2 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>((i &gt;= <span class="number">0</span>) &amp;&amp; (j &gt;= <span class="number">0</span>)) &#123;</span><br><span class="line">	sum1 += i;</span><br><span class="line">	i -= <span class="number">2</span>;</span><br><span class="line">	sum2 += j;</span><br><span class="line">	j -= <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">"sum1 = "</span> + sum1);</span><br><span class="line">System.out.println(<span class="string">"sum2 = "</span> + sum2);</span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="2">
<li>用while循环或其他循环输出1-1000之间能被5整除的数，且每行输出5个。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n = <span class="number">1000</span>; </span><br><span class="line"><span class="keyword">while</span>(n &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">5</span>;k &gt;= <span class="number">1</span>;k--) &#123;</span><br><span class="line">		System.out.print(n + <span class="string">" "</span>);</span><br><span class="line">		n -= <span class="number">5</span>;</span><br><span class="line">		<span class="keyword">if</span>(n &lt; <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	System.out.println();</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3-2-5-break语句和continue语句"><a href="#3-2-5-break语句和continue语句" class="headerlink" title="3.2.5 break语句和continue语句"></a>3.2.5 break语句和continue语句</h5><p>   在任何循环语句的主体部分，均可用break控制循环的流程。break用于强行退出循环，不执行循环中剩余的语句。</p>
<p><strong>【示例3-16】break语句</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test16</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> total = <span class="number">0</span>;<span class="comment">//定义计数器</span></span><br><span class="line">        System.out.println(<span class="string">"Begin"</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            total++;<span class="comment">//每循环一次计数器加1</span></span><br><span class="line">            <span class="keyword">int</span> i = (<span class="keyword">int</span>) Math.round(<span class="number">100</span> * Math.random());</span><br><span class="line">            <span class="comment">//当i等于88时，退出循环</span></span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">88</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//输出循环的次数</span></span><br><span class="line">        System.out.println(<span class="string">"Game over， used "</span> + total + <span class="string">" times."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494920487770900.png" alt="1.png"></p>
<p>图3-23 示例3-16运行效果图</p>
<p>   continue 语句用在循环语句体中，用于终止某次循环过程，即跳过循环体中尚未执行的语句，接着进行下一次是否执行循环的判定。</p>
<p><strong>注意事项</strong></p>
<ol>
<li><p>continue用在while，do-while中，continue 语句立刻跳到循环首部，越过了当前循环的其余部分。</p>
</li>
<li><p>continue用在for循环中，跳到for循环的迭代因子部分。</p>
</li>
</ol>
<p><strong>【示例3-17】continue语句：把100~150之间不能被3整除的数输出，并且每行输出5个</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test17</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;<span class="comment">//定义计数器</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">100</span>; i &lt; <span class="number">150</span>; i++) &#123;</span><br><span class="line">            <span class="comment">//如果是3的倍数，则跳过本次循环，继续进行下一次循环</span></span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">3</span> == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//否则（不是3的倍数），输出该数</span></span><br><span class="line">            System.out.print(i + <span class="string">"、"</span>);</span><br><span class="line">            count++;<span class="comment">//没输出一个数，计数器加1</span></span><br><span class="line">            <span class="comment">//根据计数器判断每行是否已经输出了5个数</span></span><br><span class="line">            <span class="keyword">if</span> (count % <span class="number">5</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494920557116706.png" alt="2.png"></p>
<p>图3-24 示例3-17运行效果图</p>
<h5 id="3-2-6-带标签的break和continue"><a href="#3-2-6-带标签的break和continue" class="headerlink" title="3.2.6 带标签的break和continue"></a>3.2.6 带标签的break和continue</h5><p>   goto关键字很早就在程序设计语言中出现。尽管goto仍是Java的一个保留字，但并未在Java语言中得到正式使用;Java没有goto语句。然而，在break和continue这两个关键字的身上，我们仍然能看出一些goto的影子—带标签的break和continue。</p>
<p>   “标签”是指后面跟一个冒号的标识符，例如：“label:”。对Java来说唯一用到标签的地方是在循环语句之前。而在循环之前设置标签的唯一理由是：我们希望在其中嵌套另一个循环，由于break和continue关键字通常只中断当前循环，但若随同标签使用，它们就会中断到存在标签的地方。</p>
<p>   在 “goto有害”论中，最有问题的就是标签，而非goto， 随着标签在一个程序里数量的增多，产生错误的机会也越来越多。 但Java标签不会造成这方面的问题，因为它们的活动场所已被限死，不可通过特别的方式到处传递程序的控制权。由此也引出了一个有趣的问题：通过限制语句的能力，反而能使一项语言特性更加有用。</p>
<p><strong>【示例3-18】带标签break和continue：控制嵌套循环跳转(打印101-150之间所有的质数)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test18</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        outer: <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">101</span>; i &lt; <span class="number">150</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">2</span>; j &lt; i / <span class="number">2</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i % j == <span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="keyword">continue</span> outer;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.print(i + <span class="string">"  "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494920764681803.png" alt="1.png"></p>
<p>图3-25 示例3-18运行效果图</p>
<h4 id="3-3-语句块"><a href="#3-3-语句块" class="headerlink" title="3.3 语句块"></a>3.3 语句块</h4><p>   语句块(有时叫做复合语句)，是用花括号扩起的任意数量的简单Java语句。块确定了局部变量的作用域。块中的程序代码，作为一个整体，是要被一起执行的。块可以被嵌套在另一个块中，但是不能在两个嵌套的块内声明同名的变量。语句块可以使用外部的变量，而外部不能使用语句块中定义的变量，因为语句块中定义的变量作用域只限于语句块。</p>
<p><strong>【示例3-19】语句块</strong>　</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test19</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="keyword">int</span> a;</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> k;</span><br><span class="line">            <span class="keyword">int</span> n; <span class="comment">//编译错误：不能重复定义变量n</span></span><br><span class="line">        &#125; <span class="comment">//变量k的作用域到此为止</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-4-方法"><a href="#3-4-方法" class="headerlink" title="3.4 方法"></a>3.4 方法</h4><p>   方法就是一段用来完成特定功能的代码片段，类似于其它语言的函数。</p>
<p>   方法用于定义该类或该类的实例的行为特征和功能实现。 方法是类和对象行为特征的抽象。方法很类似于面向过程中的函数。面向过程中，函数是最基本单位，整个程序由一个个函数调用组成。面向对象中，整个程序的基本单位是类，方法是从属于类和对象的。</p>
<p><strong>方法声明格式：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[修饰符<span class="number">1</span>  修饰符<span class="number">2</span>  …]   返回值类型    方法名(形式参数列表)&#123;</span><br><span class="line">    Java语句；… … …</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p><strong>方法的调用方式：</strong></p>
<p>   对象名.方法名(实参列表)</p>
<p>   方法的详细说明</p>
<ol>
<li><p>形式参数：在方法声明时用于接收外界传入的数据。</p>
</li>
<li><p>实参：调用方法时实际传给方法的数据。</p>
</li>
<li><p>返回值：方法在执行完毕后返还给调用它的环境的数据。</p>
</li>
<li><p>返回值类型：事先约定的返回值的数据类型，如无返回值，必须显示指定为为void。</p>
</li>
</ol>
<p><strong>【示例3-20】方法的声明及调用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test20</span> </span>&#123;</span><br><span class="line">    <span class="comment">/** main方法：程序的入口 */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num1 = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">int</span> num2 = <span class="number">20</span>;</span><br><span class="line">        <span class="comment">//调用求和的方法：将num1与num2的值传给add方法中的n1与n2</span></span><br><span class="line">        <span class="comment">// 求完和后将结果返回，用sum接收结果</span></span><br><span class="line">        <span class="keyword">int</span> sum = add(num1, num2);</span><br><span class="line">        System.out.println(<span class="string">"sum = "</span> + sum);<span class="comment">//输出：sum = 30</span></span><br><span class="line">        <span class="comment">//调用打印的方法：该方法没有返回值</span></span><br><span class="line">        print();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/** 求和的方法 */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> n1, <span class="keyword">int</span> n2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum = n1 + n2;</span><br><span class="line">        <span class="keyword">return</span> sum;<span class="comment">//使用return返回计算的结果</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/** 打印的方法 */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"北京尚学堂..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494921229311723.png" alt="1.png"></p>
<p>图3-26 示例3-20运行效果图</p>
<p><strong>注意事项</strong></p>
<ol>
<li><p>实参的数目、数据类型和次序必须和所调用的方法声明的形式参数列表匹配。</p>
<ol start="2">
<li>return 语句终止方法的运行并指定要返回的数据。</li>
</ol>
</li>
<li><p>Java中进行方法调用中传递参数时，遵循值传递的原则(传递的都是数据的副本)：</p>
<ol start="4">
<li><p>基本类型传递的是该数据值的copy值。</p>
</li>
<li><p>引用类型传递的是该对象引用的copy值，但指向的是同一个对象。</p>
</li>
</ol>
</li>
</ol>
<h4 id="3-5-方法的重载-overload"><a href="#3-5-方法的重载-overload" class="headerlink" title="3.5 方法的重载(overload)"></a>3.5 方法的重载(overload)</h4><p>   方法的重载是指一个类中可以定义多个方法名相同，但参数不同的方法。 调用时，会根据不同的参数自动匹配对应的方法。</p>
<p><strong>雷区</strong></p>
<p>   重载的方法，实际是完全不同的方法，只是名称相同而已!</p>
<p>   构成方法重载的条件：</p>
<p>   1.不同的含义：形参类型、形参个数、形参顺序不同</p>
<p>   2.只有返回值不同不构成方法的重载</p>
<p>   如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">a</span><span class="params">(String str)</span></span>&#123;&#125;与 <span class="function"><span class="keyword">void</span> <span class="title">a</span><span class="params">(String str)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>   不构成方法重载</p>
<p>   3.只有形参的名称不同，不构成方法的重载</p>
<p>   如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">a</span><span class="params">(String str)</span></span>&#123;&#125;与<span class="function"><span class="keyword">int</span> <span class="title">a</span><span class="params">(String s)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>   不构成方法重载</p>
<p><strong>【示例3-21】方法重载</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test21</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(add(<span class="number">3</span>, <span class="number">5</span>));<span class="comment">// 8</span></span><br><span class="line">        System.out.println(add(<span class="number">3</span>, <span class="number">5</span>, <span class="number">10</span>));<span class="comment">// 18</span></span><br><span class="line">        System.out.println(add(<span class="number">3.0</span>, <span class="number">5</span>));<span class="comment">// 8.0</span></span><br><span class="line">        System.out.println(add(<span class="number">3</span>, <span class="number">5.0</span>));<span class="comment">// 8.0</span></span><br><span class="line">        <span class="comment">// 我们已经见过的方法的重载</span></span><br><span class="line">        System.out.println();<span class="comment">// 0个参数</span></span><br><span class="line">        System.out.println(<span class="number">1</span>);<span class="comment">// 参数是1个int</span></span><br><span class="line">        System.out.println(<span class="number">3.0</span>);<span class="comment">// 参数是1个double</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/** 求和的方法 */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> n1, <span class="keyword">int</span> n2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum = n1 + n2;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 方法名相同，参数个数不同，构成重载</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> n1, <span class="keyword">int</span> n2, <span class="keyword">int</span> n3)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum = n1 + n2 + n3;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 方法名相同，参数类型不同，构成重载</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">add</span><span class="params">(<span class="keyword">double</span> n1, <span class="keyword">int</span> n2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> sum = n1 + n2;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 方法名相同，参数顺序不同，构成重载</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> n1, <span class="keyword">double</span> n2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> sum = n1 + n2;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//编译错误：只有返回值不同，不构成方法的重载</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> n1, <span class="keyword">int</span> n2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> sum = n1 + n2;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//编译错误：只有参数名称不同，不构成方法的重载</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> n2, <span class="keyword">int</span> n1)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> sum = n1 + n2;         </span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-6-递归结构"><a href="#3-6-递归结构" class="headerlink" title="3.6 递归结构"></a>3.6 递归结构</h4><p>   递归是一种常见的解决问题的方法，即把问题逐渐简单化。递归的基本思想就是“自己调用自己”，一个使用递归技术的方法将会直接或者间接的调用自己。</p>
<p>   利用递归可以用简单的程序来解决一些复杂的问题。比如：斐波那契数列的计算、汉诺塔、快排等问题。</p>
<p>   递归结构包括两个部分：</p>
<p>   1.定义递归头。解答：什么时候不调用自身方法。如果没有头，将陷入死循环，也就是递归的结束条件。</p>
<p>   2.递归体。解答：什么时候需要调用自身方法。</p>
<p><strong>【示例3-22】递归：计算n!</strong>　　</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test22</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> d1 = System.currentTimeMillis();  </span><br><span class="line">        System.out.printf(<span class="string">"%d阶乘的结果:%s%n"</span>, <span class="number">10</span>, factorial(<span class="number">10</span>));</span><br><span class="line">        <span class="keyword">long</span> d2 = System.currentTimeMillis();</span><br><span class="line">        System.out.printf(<span class="string">"递归费时：%s%n"</span>, d2-d1);  <span class="comment">//耗时：32ms</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/** 求阶乘的方法*/</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">long</span>  <span class="title">factorial</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">1</span>)&#123;<span class="comment">//递归头</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;<span class="comment">//递归体</span></span><br><span class="line">            <span class="keyword">return</span> n*factorial(n-<span class="number">1</span>);<span class="comment">//n! = n * (n-1)!</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494921671901397.png" alt="1.png"></p>
<p>图3-27 示例3-22运行效果图</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494921676253834.png" alt="2.png"></p>
<p>图3-28 递归原理分析图</p>
<p><strong>递归的缺陷</strong></p>
<p>   简单的程序是递归的优点之一。但是递归调用会占用大量的系统堆栈，内存耗用多，在递归调用层次多时速度要比循环慢的多，所以在使用递归时要慎重。</p>
<p>   比如上面的递归耗时558ms。但是用普通循环的话快得多，如示例3-23所示。</p>
<p><strong>【示例3-23】使用循环求n!</strong>　</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test23</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> d3 = System.currentTimeMillis();</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (a &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            result *= a * (a - <span class="number">1</span>);</span><br><span class="line">            a -= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">long</span> d4 = System.currentTimeMillis();</span><br><span class="line">        System.out.println(result);</span><br><span class="line">        System.out.printf(<span class="string">"普通循环费时：%s%n"</span>, d4 - d3);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494921739716261.png" alt="3.png"></p>
<p>图3-29 示例3-23运行效果图</p>
<p><strong>注意事项</strong></p>
<p>   任何能用递归解决的问题也能使用迭代解决。当递归方法可以更加自然地反映问题，并且易于理解和调试，并且不强调效率问题时，可以采用递归;</p>
<p>   在要求高性能的情况下尽量避免使用递归，递归调用既花时间又耗内存。</p>
<h4 id="第三章总结"><a href="#第三章总结" class="headerlink" title="第三章总结"></a>第三章总结</h4><p>　　1.从结构化程序设计角度出发，程序有三种结构：顺序结构、选择结构和循环结构</p>
<p>　　2.选择结构</p>
<p>　   （1）if单选择结构 if-else双选择结构 if-else if-else多选择结构</p>
<p>　   （2）switch多选择结构</p>
<p>　　3.多选择结构与switch的关系：当布尔表达式是等值判断的情况，可使用多重选择结构或switch结构，如果布尔表达式区间判断的情况，则只能使用多重选择结构</p>
<p>　　  （1） 循环结构</p>
<p>　　  （2）当型：while与for</p>
<p>　　  （3）直到型:do-while</p>
<p>　　4.while与do-while的区别，在布尔表达式的值为false时while的循环体一次也不执行，而do-while至少执行一次</p>
<p>　　5.break可以在switch与循环结构中使用，而continue只能在循环结构中使用</p>
<p>　　6.方法就是一段用来完成特定功能的代码片段，类似于其它语言的函数</p>
<p>　　7.方法的重载是指一个类中可以定义多个方法名相同，但参数不同的方法。 调用时，会根据不同的参数自动匹配对应的方法</p>
<p>　　8.任何能用递归解决的问题也能使用迭代解决。在要求高性能的情况下尽量避免使用递归，递归调用既花时间又耗内存。</p>
<h4 id="第三章作业"><a href="#第三章作业" class="headerlink" title="第三章作业"></a>第三章作业</h4><p><strong>一、选择题</strong></p>
<p>　　1.分析如下Java代码，编译运行的输出结果是( A)。(选择一项)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[ ] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">boolean</span> a=<span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">boolean</span> b=<span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (!(a&amp;&amp;b)) &#123;</span><br><span class="line">        System.out.print(<span class="string">"!(a&amp;&amp;b)"</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (!(a||b)) &#123;</span><br><span class="line">        System.out.println(<span class="string">"!(a||b)"</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">"ab"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　A!(a&amp;&amp;b)</p>
<p>　　B.!(a||b)</p>
<p>　　C.ab</p>
<p>　　D.!(a||b)ab</p>
<p>　　2.下列选项中关于变量x的定义，(B D )可使以下switch语句编译通过。(选择二项)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(x) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">100</span> :</span><br><span class="line">        System.out.println(<span class="string">"One hundred"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">200</span> :              </span><br><span class="line">        System.out.println(<span class="string">"Two hundred"</span>);                 </span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">300</span> :</span><br><span class="line">        System.out.println( <span class="string">"Three hundred"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span> :</span><br><span class="line">        System.out.println( <span class="string">"default"</span>);    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　Adouble x = 100;</p>
<p>　　B.char x = 100;</p>
<p>　　C.String x = “100”;</p>
<p>　　D.int x = 100;</p>
<p>　　3.给定如下Java代码，编译运行的结果是(A )。(选择一项)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">do</span>&#123;</span><br><span class="line">                i++;</span><br><span class="line">                <span class="keyword">if</span>(i%<span class="number">2</span>!=<span class="number">0</span>)</span><br><span class="line">                    sum+=i;</span><br><span class="line">            &#125;<span class="keyword">while</span>(i&lt;<span class="number">6</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(sum);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　A8</p>
<p>　　B.15</p>
<p>　　C.24</p>
<p>　　D.什么也不输出</p>
<p>　　4.以下选项中添加到代码中横线处会出现错误的是( B)。(选择二项)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">aMethod</span><span class="params">(<span class="keyword">float</span> a, <span class="keyword">float</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">    &#125;                                       </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　A.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public float  aMethod(float a, float b, float c) &#123;</span><br><span class="line">        return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　B.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public float  aMethod(float c, float d) &#123;</span><br><span class="line">        return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　C.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public int  aMethod(int a, int b) &#123;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　D.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">private int  aMethod(float a, float b) &#123;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　5.以下关于方法调用的代码的执行结果是( )。(选择一项)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public class Test &#123;</span><br><span class="line">    public static void main(String args[]) &#123;</span><br><span class="line">        int i &#x3D; 99;</span><br><span class="line">        mb_operate(i);</span><br><span class="line">        System.out.print(i + 100);</span><br><span class="line">    &#125;</span><br><span class="line">    static void mb_operate(int i) &#123;</span><br><span class="line">        i +&#x3D; 100;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　A.99</p>
<p>　　B.199</p>
<p>　　C.299</p>
<p>　　D.99100</p>
<p><strong>二、简答题</strong></p>
<p>　　1. if多分支语句和switch语句的异同之处。</p>
<p>　　2. break和continue语句的作用。</p>
<p>　　3. 在多重循环中，如何在内层循环中使用break跳出外层循环。</p>
<p>　　4. 方法重载的定义、作用和判断依据。</p>
<p>　　5. 递归的定义和优缺点。</p>
<p><strong>三、编码题</strong></p>
<ol>
<li><p>从键盘输入某个十进制整数数，转换成对应的二进制整数并输出。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 第一个练习题</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Practice01</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> a = scanner.nextInt();</span><br><span class="line">		fun1(a);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fun1</span><span class="params">(<span class="keyword">int</span> a)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(a / <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">			System.out.print(a%<span class="number">2</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		fun1(a/<span class="number">2</span>);</span><br><span class="line">		System.out.print(a%<span class="number">2</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="2">
<li><p>编程求：∑1+∑2+……+∑100。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 第二个习题</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Practice02</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> n = <span class="number">3</span>;</span><br><span class="line">		System.out.println(fun1(n));</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">fun1</span><span class="params">(<span class="keyword">int</span> n1)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(n1 == <span class="number">1</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = n1;i &gt;= <span class="number">1</span>;i--) &#123;</span><br><span class="line">				sum += i;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">return</span> sum + fun1(n1-<span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<p>　　3. 编写递归算法程序：一列数的规则如下: 1、1、2、3、5、8、13、21、34…… 求数列的第40位数是多少。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 第三道练习题</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Practice03</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> n = <span class="number">40</span>;</span><br><span class="line">		System.out.println(fun1(n));</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">fun1</span><span class="params">(<span class="keyword">int</span> n1)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(n1 == <span class="number">1</span>||n1 == <span class="number">2</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> fun1(n1-<span class="number">1</span>)+fun1(n1-<span class="number">2</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="第四章-java面向对象基础"><a href="#第四章-java面向对象基础" class="headerlink" title="第四章 java面向对象基础"></a>第四章 java面向对象基础</h3><h4 id="4-1-面向过程和面向对象"><a href="#4-1-面向过程和面向对象" class="headerlink" title="4.1 面向过程和面向对象"></a>4.1 面向过程和面向对象</h4><p>　　面向过程(Procedure Oriented)和面向对象(Object Oriented,OO)都是对软件分析、设计和开发的一种思想,它指导着人们以不同的方式去分析、设计和开发软件。早期先有面向过程思想，随着软件规模的扩大，问题复杂性的提高，面向过程的弊端越来越明显的显示出来，出现了面向对象思想并成为目前主流的方式。两者都贯穿于软件分析、设计和开发各个阶段，对应面向对象就分别称为面向对象分析(OOA)、面向对象设计(OOD)和面向对象编程(OOP)。C语言是一种典型的面向过程语言，Java是一种典型的面向对象语言。</p>
<p>　　面向过程思想思考问题时，我们首先思考“怎么按步骤实现?”并将步骤对应成方法，一步一步，最终完成。 这个适合简单任务，不需要过多协作的情况下。比如，如何开车?我们很容易就列出实现步骤：</p>
<p>　　1. 发动车 2. 挂挡 3.踩油门 4. 走你</p>
<p>　　面向过程适合简单、不需要协作的事务。 但是当我们思考比较复杂的问题，比如“如何造车?”，就会发现列出1234这样的步骤，是不可能的。那是因为，造车太复杂，需要很多协作才能完成。此时面向对象思想就应运而生了。</p>
<p>　　面向对象(Object)思想更契合人的思维模式。我们首先思考的是“怎么设计这个事物?” 比如思考造车，我们就会先思考“车怎么设计?”，而不是“怎么按步骤造车的问题”。这就是思维方式的转变。</p>
<p>　　一、面向对象思想思考造车，发现车由如下对象组成：</p>
<p>　　1. 轮胎</p>
<p>　　2. 发动机</p>
<p>　　3. 车壳</p>
<p>　　4. 座椅</p>
<p>　　5. 挡风玻璃</p>
<p>　　为了便于协作，我们找轮胎厂完成制造轮胎的步骤，发动机厂完成制造发动机的步骤;这样，发现大家可以同时进行车的制造，最终进行组装，大大提高了效率。但是，具体到轮胎厂的一个流水线操作，仍然是有步骤的，还是离不开面向过程思想!</p>
<p>　　因此，面向对象可以帮助我们从宏观上把握、从整体上分析整个系统。 但是，具体到实现部分的微观操作(就是一个个方法)，仍然需要面向过程的思路去处理。</p>
<p>　　我们千万不要把面向过程和面向对象对立起来。他们是相辅相成的。面向对象离不开面向过程!</p>
<p>　　<strong>·面向对象和面向过程的总结</strong></p>
<p>　　1、都是解决问题的思维方式，都是代码组织的方式。</p>
<p>　　2、解决简单问题可以使用面向过程</p>
<p>　　3、解决复杂问题：宏观上使用面向对象把握，微观处理上仍然是面向过程。</p>
<p>　　<strong>· 面向对象思考方式</strong></p>
<p>　　遇到复杂问题，先从问题中找名词，然后确立这些名词哪些可以作为类，再根据问题需求确定的类的属性和方法，确定类之间的关系。</p>
<p><strong>建议</strong></p>
<p>　　1.面向对象具有三大特征：封装性、继承性和多态性，而面向过程没有继承性和多态性，并且面向过程的封装只是封装功能，而面向对象可以封装数据和功能。所以面向对象优势更明显。</p>
<p>　　2.一个经典的比喻：面向对象是盖浇饭、面向过程是蛋炒饭。盖浇饭的好处就是“菜”“饭”分离，从而提高了制作盖浇饭的灵活性。饭不满意就换饭，菜不满意换菜。用软件工程的专业术语就是“可维护性”比较好，“饭” 和“菜”的耦合度比较低。</p>
<h4 id="4-2-对象的进化史-数据管理和企业管理共通之处"><a href="#4-2-对象的进化史-数据管理和企业管理共通之处" class="headerlink" title="4.2 对象的进化史(数据管理和企业管理共通之处)"></a>4.2 对象的进化史(数据管理和企业管理共通之处)</h4><p>　　事物的发展总是遵循“量变引起质变”的哲学原则;企业管理和数据管理、甚至社会管理也有很多共通的地方。本节课类比企业发展，让大家更容易理解为什么会产生“对象”这个概念。</p>
<p><strong>·数据无管理时代</strong></p>
<p>　　最初的计算机语言只有基本变量(类似我们学习的基本数据类型)，用来保存数据。那时候面对的数据非常简单，只需要几个变量即可搞定;这个时候不涉及“数据管理”的问题。同理，就像在企业最初发展阶段只有几个人，不涉及管理问题，大家闷头做事就OK了。</p>
<p><strong>·数组管理和企业部门制</strong></p>
<p>　　企业发展中，员工多了怎么办?我们很自然的想法就是归类，将类型一致的人放到一起;企业中，会将都做销售工作的放到销售部管理;会将研发软件的放到开发部管理。同理在编程中，变量多了，我们很容易的想法就是“将同类型数据放到一起”， 于是就形成了“数组”的概念，单词对应“array”。 这种“归类”的思想，便于管理数据、管理人。</p>
<p><strong>·对象和企业项目制</strong></p>
<p>　　企业继续发展，面对的场景更加复杂。一个项目可能需要经常协同多个部门才能完成工作;一个项目从谈判接触可能需要销售部介入;谈判完成后，需求调研开始，研发部和销售部一起介入;开发阶段需要开发部和测试部互相配合敏捷开发，同时整个过程财务部也需要跟进。在企业中，为了便于协作和管理，很自然就兴起了“项目制”，以项目组的形式组织，一个项目组可能包含各种类型的人员。 一个完整的项目组，麻雀虽小五脏俱全，就是个创业公司甚至小型公司的编制，包含行政后勤人员、财务核算人员、开发人员、售前人员、售后人员、测试人员、设计人员等等。事实上，华为、腾讯、阿里巴巴等大型公司内部都是采用这种“项目制”的方式进行管理。</p>
<p>　　同理，计算机编程继续发展，各种类型的变量更加多了，而且对数据的操作(指的就是方法，方法可以看做是对数据操作的管理)也复杂了，怎么办?</p>
<p>　　为了便于协作和管理，我们“将相关数据和相关方法封装到一个独立的实体”，于是“对象”产生了。 比如，我们的一个学生对象：</p>
<p>　　有属性(静态特征)：年龄：18，姓名：高淇，学号：1234</p>
<p>　　也可以有方法(动态行为)：学习，吃饭，考试</p>
<p>　　请大家举一反三，根据上表理解一下企业的进化史，会发现大道至简。原来，数据管理、企业管理、社会发展也是有很多共通的地方。“量变引起质变，不同的数量级必然采用不同的管理模式”。</p>
<table>
<thead>
<tr>
<th><strong>表4-1对象进化史和企业进化史</strong></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>对象进化史</strong></td>
<td></td>
<td><strong>企业进化史</strong></td>
<td></td>
<td><strong>抽象类比</strong></td>
</tr>
<tr>
<td>数据少时</td>
<td>基本类型数据阶段</td>
<td>人少时</td>
<td>作坊时代</td>
<td>无管理时代(对数据或人没有任何管理)</td>
</tr>
<tr>
<td>数据多了</td>
<td>数组同类型数据存到数组中</td>
<td>人多了</td>
<td>部门工作行为一样的在一个部门</td>
<td>弱管理时代(将同类型数据集中进行管理)</td>
</tr>
<tr>
<td>数据多了数据关系/操作复杂了</td>
<td>类和对象将数据和相关的操作行为放到一起</td>
<td>人多了，业务更复杂，人的工作行为也复杂</td>
<td>项目组将不同类型的人放到一起实现统一管理</td>
<td>强管理时代(将数据和数据操作/人和人的行为 放到一起管理)</td>
</tr>
</tbody></table>
<p><strong>总结</strong></p>
<p>　　1.对象说白了也是一种数据结构(对数据的管理模式)，将数据和数据的行为放到了一起。</p>
<p>　　2.在内存上，对象就是一个内存块，存放了相关的数据集合!</p>
<p>　　3.对象的本质就一种数据的组织方式!</p>
<h4 id="4-3-对象和类的概念"><a href="#4-3-对象和类的概念" class="headerlink" title="4.3 对象和类的概念"></a>4.3 对象和类的概念</h4><p>　　我们人认识世界，其实就是面向对象的(此对象可不是男女谈对象的彼对象呀)。比如现在让大家认识一下“天使”这个新事物，天使大家没见过吧，怎么样认识呢?最好的办法就是，给你们面前摆4个天使，带翅膀的美女，让大家看，看完以后，即使我不说，大家下一次是不是就都认识天使了。</p>
<p>图4-1 认识天使</p>
<p>　　但是，看完10个天使后，我们总要总结一下，什么样的东东才算天使?天使是无数的，总有没见过的!所以必须总结抽象，便于认识未知事物!总结的过程就是抽象的过程。小时候，我们学自然数时怎么定义的?像1，2，3，4…这样的数就叫做自然数。 通过抽象，我们发现天使有这样一下特征：</p>
<p>　　1. 带翅膀(带翅膀不一定是天使，还可能是鸟人)</p>
<p>　　2. 女孩(天使掉下来脸着地，也是天使!)</p>
<p>　　3. 善良</p>
<p>　　4. 头上有光环</p>
<p>　　那么通过这4个具体的天使，我们进行抽象，抽象出了天使的特征，我们也可以归纳一个天使类。 通过这个过程，类就是对象的抽象。</p>
<p>　　类可以看做是一个模版，或者图纸，系统根据类的定义来造出对象。我们要造一个汽车，怎么样造?类就是这个图纸，规定了汽车的详细信息，然后根据图纸将汽车造出来。</p>
<p>　　<strong>类：</strong>我们叫做class。 <strong>对象：</strong>我们叫做Object,instance(实例)。以后我们说某个类的对象，某个类的实例。是一样的意思。</p>
<p><strong>总结</strong></p>
<p>　　1.对象是具体的事物;类是对对象的抽象;</p>
<p>　　2.类可以看成一类对象的模板，对象可以看成该类的一个具体实例。</p>
<p>　　3.类是用于描述同一类型的对象的一个抽象概念，类中定义了这一类对象所应具有的共同的属性、方法。</p>
<h5 id="4-3-1-第一个类的定义"><a href="#4-3-1-第一个类的定义" class="headerlink" title="4.3.1 第一个类的定义"></a>4.3.1 第一个类的定义</h5><p><strong>【示例4-1】类的定义方式</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 每一个源文件必须有且只有一个public class，并且类名和文件名保持一致！</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123; </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tyre</span> </span>&#123; <span class="comment">// 一个Java文件可以同时定义多个class</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Engine</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Seat</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　上面的类定义好后，没有任何的其他信息，就跟我们拿到一张张图纸，但是纸上没有任何信息，这是一个空类，没有任何实际意义。所以，我们需要定义类的具体信息。对于一个类来说，一般有三种常见的成员：属性field、方法method、构造器constructor。这三种成员都可以定义零个或多个。</p>
<p><strong>【示例4-2】简单的学生类编写</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SxtStu</span> </span>&#123;</span><br><span class="line">    <span class="comment">//属性（成员变量）</span></span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    String sname;</span><br><span class="line">    <span class="keyword">int</span> age;  </span><br><span class="line">    <span class="comment">//方法</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">study</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"我正在学习！"</span>);</span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">//构造方法</span></span><br><span class="line">   SxtStu()&#123;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="4-3-2-属性-field，或者叫成员变量"><a href="#4-3-2-属性-field，或者叫成员变量" class="headerlink" title="4.3.2 属性(field，或者叫成员变量)"></a>4.3.2 属性(field，或者叫成员变量)</h5><p>   属性用于定义该类或该类对象包含的数据或者说静态特征。属性作用范围是整个类体。</p>
<p>   在定义成员变量时可以对其初始化，如果不对其初始化，Java使用默认的值对其初始化。</p>
<table>
<thead>
<tr>
<th>表4-2成员变量的默认值</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>数据类型</strong></td>
<td><strong>默认值</strong></td>
</tr>
<tr>
<td>整型</td>
<td>0</td>
</tr>
<tr>
<td>浮点型</td>
<td>0.0</td>
</tr>
<tr>
<td>字符型</td>
<td>‘\u0000’</td>
</tr>
<tr>
<td>布尔型</td>
<td>false</td>
</tr>
<tr>
<td>所有引用类型</td>
<td>null</td>
</tr>
</tbody></table>
<p><strong>属性定义格式：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[修饰符] 属性类型 属性名 = [默认值] ;</span><br></pre></td></tr></table></figure>

<h5 id="4-3-3-方法"><a href="#4-3-3-方法" class="headerlink" title="4.3.3 方法"></a>4.3.3 方法</h5><p>　　方法用于定义该类或该类实例的行为特征和功能实现。方法是类和对象行为特征的抽象。方法很类似于面向过程中的函数。面向过程中，函数是最基本单位，整个程序由一个个函数调用组成。面向对象中，整个程序的基本单位是类，方法是从属于类和对象的。</p>
<p><strong>方法定义格式：</strong>　</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[修饰符] 方法返回值类型 方法名(形参列表) &#123;<span class="comment">// n条语句&#125;</span></span><br></pre></td></tr></table></figure>

<h5 id="4-3-4-一个典型类的定义和UML图"><a href="#4-3-4-一个典型类的定义和UML图" class="headerlink" title="4.3.4 一个典型类的定义和UML图"></a>4.3.4 一个典型类的定义和UML图</h5><p><strong>【示例4-3】模拟学生使用电脑学习</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Computer</span> </span>&#123;</span><br><span class="line">    String brand;  <span class="comment">//品牌</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SxtStu</span> </span>&#123;</span><br><span class="line">    <span class="comment">// field</span></span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    String sname;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    Computer comp;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">study</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"我正在学习！使用我们的电脑，"</span>+comp.brand);</span><br><span class="line">    &#125;</span><br><span class="line">    SxtStu() &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SxtStu stu1 = <span class="keyword">new</span> SxtStu();</span><br><span class="line">        stu1.sname = <span class="string">"张三"</span>;</span><br><span class="line">        Computer comp1 = <span class="keyword">new</span> Computer();</span><br><span class="line">         comp1.brand = <span class="string">"联想"</span>;</span><br><span class="line">        stu1.comp = comp1;</span><br><span class="line">        stu1.study();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　执行结果：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494924993319375.png" alt="1.png"></p>
<p>图4-2 示例4-3运行结果</p>
<p>　　对应的UML图如下：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494924998558667.png" alt="2.png"></p>
<p>图4-3 SxtStu和Computer的UML类图</p>
<h4 id="4-4-面向对象的内存分析"><a href="#4-4-面向对象的内存分析" class="headerlink" title="4.4 面向对象的内存分析"></a>4.4 面向对象的内存分析</h4><p>　　为了让大家对于面向对象编程有更深入的了解，我们要对程序的执行过程中，内存到底发生了什么变化进行剖析，让大家做到“心中有数”，通过更加形象方式理解程序的执行方式。</p>
<p><strong>建议：</strong></p>
<p>　　1. 本节课是为了让初学者更深入了解程序底层执行情况，为了完整的体现内存分析流程，会有些新的名词，比如：线程、Class对象。大家暂时可以不求甚解的了解，后期学了这两个概念再回头来看我们这篇内存分析，肯定收获会更大。</p>
<p>　　2.学习本节，一定要结合视频学习!</p>
<p>　　Java虚拟机的内存可以分为三个区域：栈stack、堆heap、方法区method area。</p>
<p><strong>栈的特点如下：</strong></p>
<p>　　1. 栈描述的是方法执行的内存模型。每个方法被调用都会创建一个栈帧(存储局部变量、操作数、方法出口等)</p>
<p>　　2. JVM为每个线程创建一个栈，用于存放该线程执行方法的信息(实际参数、局部变量等)</p>
<p>　　3. 栈属于线程私有，不能实现线程间的共享!</p>
<p>　　4. 栈的存储特性是“先进后出，后进先出”</p>
<p>　　5. 栈是由系统自动分配，速度快!栈是一个连续的内存空间!</p>
<p><strong>堆的特点如下：</strong></p>
<p>　　1. 堆用于存储创建好的对象和数组(数组也是对象)</p>
<p>　　2. JVM只有一个堆，被所有线程共享</p>
<p>　　3. 堆是一个不连续的内存空间，分配灵活，速度慢!</p>
<p><strong>方法区(又叫静态区)特点如下：</strong></p>
<p>　　1. JVM只有一个方法区，被所有线程共享!</p>
<p>　　2. 方法区实际也是堆，只是用于存储类、常量相关的信息!</p>
<p>　　3. 用来存放程序中永远是不变或唯一的内容。(类信息【Class对象】、静态变量、字符串常量等)</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494925174358420.png" alt="1.png"></p>
<p>图4-4 示例4-3内存分配图</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20171026/1509008324820095.png" alt="neicunfenxi.png"></p>
<h4 id="4-5-构造方法"><a href="#4-5-构造方法" class="headerlink" title="4.5 构造方法"></a>4.5 构造方法</h4><p>　　构造器也叫构造方法(constructor)，用于对象的初始化。构造器是一个创建对象时被自动调用的特殊方法，目的是对象的初始化。构造器的名称应与类的名称一致。Java通过new关键字来调用构造器，从而返回该类的实例，是一种特殊的方法。</p>
<p><strong>声明格式：</strong>　</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[修饰符] 类名(形参列表)&#123;</span><br><span class="line">    &#x2F;&#x2F;n条语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>要点：</strong></p>
<p>　　1. 通过new关键字调用!!</p>
<p>　　2. 构造器虽然有返回值，但是不能定义返回值类型(返回值的类型肯定是本类)，不能在构造器里使用return返回某个值。</p>
<p>　　3. 如果我们没有定义构造器，则编译器会自动定义一个无参的构造函数。如果已定义则编译器不会自动添加!</p>
<p>　　4. 构造器的方法名必须和类名一致!</p>
<p><strong>课堂练习：</strong></p>
<p>　　1. 定义一个“点”(Point)类用来表示二维空间中的点(有两个坐标)。要求如下：</p>
<p>　　(1) 可以生成具有特定坐标的点对象。</p>
<p>　　(2) 提供可以设置坐标的方法。</p>
<p>　　(3)提供可以计算该“点”距另外一点距离的方法。</p>
<p><strong>参考答案：</strong>　</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> x, y;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Point</span><span class="params">(<span class="keyword">double</span> _x, <span class="keyword">double</span> _y)</span> </span>&#123;</span><br><span class="line">        x = _x;</span><br><span class="line">        y = _y;  </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getDistance</span><span class="params">(Point p)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Math.sqrt((x - p.x) * (x - p.x) + (y - p.y) * (y - p.y));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestConstructor</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Point p = <span class="keyword">new</span> Point(<span class="number">3.0</span>, <span class="number">4.0</span>);</span><br><span class="line">        Point origin = <span class="keyword">new</span> Point(<span class="number">0.0</span>, <span class="number">0.0</span>);</span><br><span class="line">        System.out.println(p.getDistance(origin));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>作业：</strong></p>
<ol>
<li>很多零基础同学会在这个地方开始晕菜。大家都学过内存分析，将这个程序的执行过程的内存分析画出来。如果画不出，好好再温习一下内存分析那一节课 [面向对象内存分析]</li>
</ol>
<h4 id="4-6-构造方法的重载"><a href="#4-6-构造方法的重载" class="headerlink" title="4.6 构造方法的重载"></a>4.6 构造方法的重载</h4><p>　　构造方法也是方法，只不过有特殊的作用而已。与普通方法一样，构造方法也可以重载。</p>
<p><strong>【示例4-6】构造方法重载(创建不同用户对象)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> id; <span class="comment">// id</span></span><br><span class="line">    String name; <span class="comment">// 账户名</span></span><br><span class="line">    String pwd; <span class="comment">// 密码</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(<span class="keyword">int</span> id, String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(<span class="keyword">int</span> id, String name, String pwd)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.pwd = pwd;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        User u1 = <span class="keyword">new</span> User();</span><br><span class="line">        User u2 = <span class="keyword">new</span> User(<span class="number">101</span>, <span class="string">"高小七"</span>);</span><br><span class="line">        User u3 = <span class="keyword">new</span> User(<span class="number">100</span>, <span class="string">"高淇"</span>, <span class="string">"123456"</span>);     </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>雷区：</strong></p>
<p>　　如果方法构造中形参名与属性名相同时，需要使用this关键字区分属性与形参。如示例4-6所示：</p>
<p>　　this.id 表示属性id;id表示形参id</p>
<h4 id="4-7-垃圾回收机制-Garbage-Collection"><a href="#4-7-垃圾回收机制-Garbage-Collection" class="headerlink" title="4.7 垃圾回收机制(Garbage Collection)"></a>4.7 垃圾回收机制(Garbage Collection)</h4><p>　　Java引入了垃圾回收机制，令C++程序员最头疼的内存管理问题迎刃而解。Java程序员可以将更多的精力放到业务逻辑上而不是内存管理工作上，大大的提高了开发效率</p>
<h5 id="4-7-1-垃圾回收原理和算法"><a href="#4-7-1-垃圾回收原理和算法" class="headerlink" title="4.7.1 垃圾回收原理和算法"></a>4.7.1 垃圾回收原理和算法</h5><p><strong>·内存管理</strong></p>
<p>　　Java的内存管理很大程度指的就是对象的管理，其中包括对象空间的分配和释放。</p>
<p>　　对象空间的分配：使用new关键字创建对象即可</p>
<p>　　对象空间的释放：将对象赋值null即可。垃圾回收器将负责回收所有”不可达”对象的内存空间。</p>
<p><strong>·垃圾回收过程</strong></p>
<p>　　任何一种垃圾回收算法一般要做两件基本事情：</p>
<p>　　1. 发现无用的对象</p>
<p>　　2. 回收无用对象占用的内存空间。</p>
<p>　　垃圾回收机制保证可以将“无用的对象”进行回收。无用的对象指的就是没有任何变量引用该对象。Java的垃圾回收器通过相关算法发现无用对象，并进行清除和整理。</p>
<p><strong>·垃圾回收相关算法</strong></p>
<p>　　1. 引用计数法</p>
<p>　　堆中每个对象都有一个引用计数。被引用一次，计数加1. 被引用变量值变为null，则计数减1，直到计数为0，则表示变成无用对象。优点是算法简单，缺点是“循环引用的无用对象”无法别识别。</p>
<p><strong>【示例4-7】循环引用示例</strong>　　</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    Student friend;</span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Student s1 = <span class="keyword">new</span> Student();</span><br><span class="line">        Student s2 = <span class="keyword">new</span> Student();</span><br><span class="line">         </span><br><span class="line">        s1.friend = s2;</span><br><span class="line">        s2.friend = s1;        </span><br><span class="line">        s1 = <span class="keyword">null</span>;</span><br><span class="line">        s2 = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　s1和s2互相引用对方，导致他们引用计数不为0，但是实际已经无用，但无法被识别。</p>
<p>　　2. 引用可达法(根搜索算法)</p>
<p>　　程序把所有的引用关系看作一张图，从一个节点GC ROOT开始，寻找对应的引用节点，找到这个节点以后，继续寻找这个节点的引用节点，当所有的引用节点寻找完毕之后，剩余的节点则被认为是没有被引用到的节点，即无用的节点。</p>
<h5 id="4-7-2-通用的分代垃圾回收机制"><a href="#4-7-2-通用的分代垃圾回收机制" class="headerlink" title="4.7.2 通用的分代垃圾回收机制"></a>4.7.2 通用的分代垃圾回收机制</h5><p>　　分代垃圾回收机制，是基于这样一个事实：不同的对象的生命周期是不一样的。因此，不同生命周期的对象可以采取不同的回收算法，以便提高回收效率。我们将对象分为三种状态：年轻代、年老代、持久代。JVM将堆内存划分为 Eden、Survivor 和 Tenured/Old 空间。</p>
<p>　　1. 年轻代</p>
<p>　　所有新生成的对象首先都是放在Eden区。 年轻代的目标就是尽可能快速的收集掉那些生命周期短的对象，对应的是Minor GC，每次 Minor GC 会清理年轻代的内存，算法采用效率较高的复制算法，频繁的操作，但是会浪费内存空间。当“年轻代”区域存放满对象后，就将对象存放到年老代区域。</p>
<p>　　2. 年老代</p>
<p>　　在年轻代中经历了N(默认15)次垃圾回收后仍然存活的对象，就会被放到年老代中。因此，可以认为年老代中存放的都是一些生命周期较长的对象。年老代对象越来越多，我们就需要启动Major GC和Full GC(全量回收)，来一次大扫除，全面清理年轻代区域和年老代区域。</p>
<p>　　3. 持久代</p>
<p>　　用于存放静态文件，如Java类、方法等。持久代对垃圾回收没有显著影响。</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494926399617250.png" alt="1.png"></p>
<p>图4-7 堆内存的划分细节</p>
<p>　　·Minor GC:</p>
<p>　　用于清理年轻代区域。Eden区满了就会触发一次Minor GC。清理无用对象，将有用对象复制到“Survivor1”、“Survivor2”区中(这两个区，大小空间也相同，同一时刻Survivor1和Survivor2只有一个在用，一个为空)</p>
<p>　　·Major GC：</p>
<p>　　用于清理老年代区域。</p>
<p>　　·Full GC：</p>
<p>　　用于清理年轻代、年老代区域。 成本较高，会对系统性能产生影响。</p>
<p><strong>垃圾回收过程：</strong></p>
<p>  1、新创建的对象，绝大多数都会存储在Eden中，</p>
<p>  2、当Eden满了（达到一定比例）不能创建新对象，则触发垃圾回收（GC），将无用对象清理掉，</p>
<p>​      然后剩余对象复制到某个Survivor中，如S1，同时清空Eden区</p>
<p>  3、当Eden区再次满了，会将S1中的不能清空的对象存到另外一个Survivor中，如S2，</p>
<p>​     同时将Eden区中的不能清空的对象，也复制到S1中，保证Eden和S1，均被清空。</p>
<p>  4、重复多次(默认15次)Survivor中没有被清理的对象，则会复制到老年代Old(Tenured)区中，</p>
<p>  5、当Old区满了，则会触发一个一次完整地垃圾回收（FullGC），之前新生代的垃圾回收称为（minorGC）</p>
<h5 id="4-7-3-JVM调优和Full-GC"><a href="#4-7-3-JVM调优和Full-GC" class="headerlink" title="4.7.3 JVM调优和Full GC"></a>4.7.3 JVM调优和Full GC</h5><p>　　在对JVM调优的过程中，很大一部分工作就是对于Full GC的调节。有如下原因可能导致Full GC：</p>
<p>　　1.年老代(Tenured)被写满</p>
<p>　　2.持久代(Perm)被写满</p>
<p>　　3.System.gc()被显式调用（程序建议GC启动，不是调用GC）</p>
<p>　　4.上一次GC之后Heap的各域分配策略动态变化</p>
<h5 id="4-7-4-开发中容易造成内存泄露的操作"><a href="#4-7-4-开发中容易造成内存泄露的操作" class="headerlink" title="4.7.4 开发中容易造成内存泄露的操作"></a>4.7.4 开发中容易造成内存泄露的操作</h5><p><strong>建议：</strong></p>
<p>　　1. 在实际开发中，经常会造成系统的崩溃。如下这些操作我们应该注意这些使用场景。 请大家学完相关内容后，回头过来温习下面的内容。不要求此处掌握相关细节。</p>
<p>　　如下四种情况时最容易造成内存泄露的场景，请大家开发时一定注意：</p>
<p>　　<strong>· 创建大量无用对象</strong></p>
<p>　　比如，我们在需要大量拼接字符串时，使用了String而不是StringBuilder。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">""</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++) &#123;   </span><br><span class="line">    str += i;     <span class="comment">//相当于产生了10000个String对象</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　<strong>· 静态集合类的使用</strong></p>
<p>　　像HashMap、Vector、List等的使用最容易出现内存泄露，这些静态变量的生命周期和应用程序一致，所有的对象Object也不能被释放。</p>
<p>　　<strong>· 各种连接对象(IO流对象、数据库连接对象、网络连接对象)未关闭</strong></p>
<p>　　IO流对象、数据库连接对象、网络连接对象等连接对象属于物理连接，和硬盘或者网络连接，不使用的时候一定要关闭。</p>
<p>　　<strong>· 监听器的使用</strong></p>
<p>　　释放对象时，没有删除相应的监听器。</p>
<p><strong>要点：</strong></p>
<p>　　1. 程序员无权调用垃圾回收器。</p>
<p>　　2. 程序员可以调用System.gc()，该方法只是通知JVM，并不是运行垃圾回收器。尽量少用，会申请启动Full GC，成本高，影响系统性能。</p>
<p>　　3. finalize方法，是Java提供给程序员用来释放对象或资源的方法，但是尽量少用。</p>
<h4 id="4-8-this关键字"><a href="#4-8-this关键字" class="headerlink" title="4.8 this关键字"></a>4.8 this关键字</h4><p><strong>· 对象创建的过程和this的本质</strong></p>
<p>　　构造方法是创建Java对象的重要途径，通过new关键字调用构造器时，构造器也确实返回该类的对象，但这个对象并不是完全由构造器负责创建。创建一个对象分为如下四步：</p>
<p>　　1. 分配对象空间，并将对象成员变量初始化为0或空</p>
<p>　　2. 执行属性值的显示初始化</p>
<p>　　3. 执行构造方法</p>
<p>　　4. 返回对象的地址给相关的变量</p>
<p>　　this的本质就是“创建好的对象的地址”! 由于在构造方法调用前，对象已经创建。因此，在构造方法中也可以使用this代表“当前对象” 。</p>
<p>　　this最常的用法：</p>
<p>　　1.  在程序中产生二义性之处，应使用this来指明当前对象;普通方法中，this总是指向调用该方法的对象。构造方法中，this总是指向正要初始化的对象。</p>
<p>　　2. 使用this关键字调用重载的构造方法，避免相同的初始化代码。但只能在构造方法中用，并且必须位于构造方法的第一句。</p>
<p>　　3. this不能用于static方法中。</p>
<p><strong>【示例4-8】this代表“当前对象”示例</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> id;        <span class="comment">//id</span></span><br><span class="line">    String name;   <span class="comment">//账户名</span></span><br><span class="line">    String pwd;   <span class="comment">//密码</span></span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(<span class="keyword">int</span> id, String name)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"正在初始化已经创建好的对象："</span>+<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">this</span>.id = id;   <span class="comment">//不写this，无法区分局部变量id和成员变量id</span></span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">login</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="keyword">this</span>.name+<span class="string">",要登录！"</span>);  <span class="comment">//不写this效果一样</span></span><br><span class="line">    &#125;  </span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        User  u3 = <span class="keyword">new</span> User(<span class="number">101</span>,<span class="string">"高小七"</span>);</span><br><span class="line">        System.out.println(<span class="string">"打印高小七对象："</span>+u3);</span><br><span class="line">        u3.login();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　运行结果如图4-8所示。</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494927000371640.png" alt="1.png"></p>
<p>图4-8 示例4-8运行结果</p>
<p><strong>【示例4-9】this()调用重载构造方法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestThis</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a, b, c;</span><br><span class="line"> </span><br><span class="line">    TestThis() &#123;</span><br><span class="line">        System.out.println(<span class="string">"正要初始化一个Hello对象"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    TestThis(<span class="keyword">int</span> a, <span class="keyword">int</span> b) &#123;</span><br><span class="line">        <span class="comment">// TestThis(); //这样是无法调用构造方法的！</span></span><br><span class="line">        <span class="keyword">this</span>(); <span class="comment">// 调用无参的构造方法，并且必须位于第一行！</span></span><br><span class="line">        a = a;<span class="comment">// 这里都是指的局部变量而不是成员变量</span></span><br><span class="line"><span class="comment">// 这样就区分了成员变量和局部变量. 这种情况占了this使用情况大多数！</span></span><br><span class="line">        <span class="keyword">this</span>.a = a;</span><br><span class="line">        <span class="keyword">this</span>.b = b;</span><br><span class="line">    &#125;</span><br><span class="line">    TestThis(<span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> c) &#123;</span><br><span class="line">        <span class="keyword">this</span>(a, b); <span class="comment">// 调用带参的构造方法，并且必须位于第一行！</span></span><br><span class="line">        <span class="keyword">this</span>.c = c;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">sing</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.sing(); <span class="comment">// 调用本类中的sing();</span></span><br><span class="line">        System.out.println(<span class="string">"你妈妈喊你回家吃饭！"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TestThis hi = <span class="keyword">new</span> TestThis(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">        hi.eat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-9-static-关键字"><a href="#4-9-static-关键字" class="headerlink" title="4.9 static 关键字"></a>4.9 static 关键字</h4><p>　　在类中，用static声明的成员变量为静态成员变量，也称为类变量。 类变量的生命周期和类相同，在整个应用程序执行期间都有效。它有如下特点：</p>
<p>　　1. 为该类的公用变量，属于类，被该类的所有实例共享，在类被载入时被显式初始化。</p>
<p>　　2. 对于该类的所有对象来说，static成员变量只有一份。被该类的所有对象共享!!</p>
<p>　　3. 一般用“类名.类属性/方法”来调用。(也可以通过对象引用或类名(不需要实例化)访问静态成员。)</p>
<p>　　4. 在static方法中不可直接访问非static的成员。</p>
<p>在《Java编程思想》P86页有这样一段话：</p>
<p>　　“static方法就是没有this的方法。在static方法内部不能调用非静态方法，反过来是可以的。而且可以在没有创建任何对象的前提下，仅仅通过类本身来调用static方法。这实际上正是static方法的主要用途。”</p>
<p>　　这段话虽然只是说明了static方法的特殊之处，但是可以看出static关键字的基本作用，简而言之，一句话来描述就是：</p>
<p>　　方便在没有创建对象的情况下来进行调用（方法/变量）。</p>
<p>　　很显然，被static关键字修饰的方法或者变量不需要依赖于对象来进行访问，只要类被加载了，就可以通过类名去进行访问。</p>
<p>　　static可以用来修饰类的成员方法、类的成员变量，另外可以编写static代码块来优化程序性能。</p>
<p>1）static方法</p>
<p>　　static方法一般称作静态方法，由于静态方法不依赖于任何对象就可以进行访问，因此对于静态方法来说，是没有this的，因为它不依附于任何对象，既然都没有对象，就谈不上this了。并且由于这个特性，在静态方法中不能访问类的非静态成员变量和非静态成员方法，因为非静态成员方法/变量都是必须依赖具体的对象才能够被调用。</p>
<p>　　但是要注意的是，虽然在静态方法中不能访问非静态成员方法和非静态成员变量，但是在非静态成员方法中是可以访问静态成员方法/变量的。举个简单的例子：</p>
<p><img src="https://images0.cnblogs.com/i/288799/201406/201612439117678.jpg" alt="img"></p>
<p>　　在上面的代码中，由于print2方法是独立于对象存在的，可以直接用过类名调用。假如说可以在静态方法中访问非静态方法/变量的话，那么如果在main方法中有下面一条语句：</p>
<p>　　MyObject.print2();</p>
<p>　　此时对象都没有，str2根本就不存在，所以就会产生矛盾了。同样对于方法也是一样，由于你无法预知在print1方法中是否访问了非静态成员变量，所以也禁止在静态成员方法中访问非静态成员方法。</p>
<p>　　而对于非静态成员方法，它访问静态成员方法/变量显然是毫无限制的。</p>
<p>　　因此，如果说想在不创建对象的情况下调用某个方法，就可以将这个方法设置为static。我们最常见的static方法就是main方法，至于为什么main方法必须是static的，现在就很清楚了。因为程序在执行main方法的时候没有创建任何对象，因此只有通过类名来访问。</p>
<p><strong>核心要点：</strong></p>
<p>​      <strong>static修饰的成员变量和方法，从属于类。</strong></p>
<p>​      <strong>普通变量和方法从属于对象的。</strong></p>
<p><strong>【示例4-10】static关键字的使用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试static关键字的用法</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> 高淇</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User2</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> id; <span class="comment">// id</span></span><br><span class="line">    String name; <span class="comment">// 账户名</span></span><br><span class="line">    String pwd; <span class="comment">// 密码</span></span><br><span class="line">     </span><br><span class="line">    <span class="keyword">static</span> String company = <span class="string">"北京尚学堂"</span>; <span class="comment">// 公司名称</span></span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User2</span><span class="params">(<span class="keyword">int</span> id, String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">login</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        printCompany();</span><br><span class="line">        System.out.println(company); </span><br><span class="line">        System.out.println(<span class="string">"登录："</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printCompany</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//         login();//调用非静态成员，编译就会报错</span></span><br><span class="line">        System.out.println(company);</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        User2 u = <span class="keyword">new</span> User2(<span class="number">101</span>, <span class="string">"高小七"</span>);</span><br><span class="line">        User2.printCompany();</span><br><span class="line">        User2.company = <span class="string">"北京阿里爷爷"</span>;</span><br><span class="line">        User2.printCompany();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>　　运行结果如图4-9所示。</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494927327134687.png" alt="1.png"></p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494927332527045.png" alt="2.png"></p>
<p>图4-10 示例4-10的内存分配图</p>
<h4 id="4-10-静态初始化块"><a href="#4-10-静态初始化块" class="headerlink" title="4.10 静态初始化块"></a>4.10 静态初始化块</h4><p>　　构造方法用于对象的初始化!静态初始化块，用于类的初始化操作!在静态初始化块中不能直接访问非static成员。</p>
<p><strong>注意事项：</strong></p>
<p>　　静态初始化块执行顺序(学完继承再看这里)：</p>
<p>　　1. 上溯到Object类，先执行Object的静态初始化块，再向下执行子类的静态初始化块，直到我们的类的静态初始化块为止。</p>
<p>　　2. 构造方法执行顺序和上面顺序一样!!</p>
<p><strong>【示例4-11】static初始化块</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User3</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> id;        <span class="comment">//id</span></span><br><span class="line">    String name;   <span class="comment">//账户名</span></span><br><span class="line">    String pwd;   <span class="comment">//密码</span></span><br><span class="line">    <span class="keyword">static</span> String company; <span class="comment">//公司名称</span></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">"执行类的初始化工作"</span>);</span><br><span class="line">        company = <span class="string">"北京尚学堂"</span>;</span><br><span class="line">        printCompany();</span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printCompany</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(company);</span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        User3  u3 = <span class="keyword">new</span> User3();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　执行结果如图4-11所示。</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494927536518588.png" alt="1.png"></p>
<p>图4-11 示例4-11的运行结果</p>
<h4 id="4-11-参数传值机制"><a href="#4-11-参数传值机制" class="headerlink" title="4.11 参数传值机制"></a>4.11 参数传值机制</h4><p>　　Java中，方法中所有参数都是“值传递”，也就是“传递的是值的副本”。 也就是说，我们得到的是“原参数的复印件，而不是原件”。因此，复印件改变不会影响原件。</p>
<p><strong>· 基本数据类型参数的传值</strong></p>
<p>　　传递的是值的副本。 副本改变不会影响原件。</p>
<p><strong>· 引用类型参数的传值</strong></p>
<p>　　传递的是值的副本。但是引用类型指的是“对象的地址”。因此，副本和原参数都指向了同一个“地址”，改变“副本指向地址对象的值，也意味着原参数指向对象的值也发生了改变”。</p>
<p><strong>【示例4-12】 多个变量指向同一个对象</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//**</span></span><br><span class="line"> * 测试参数传值机制</span><br><span class="line"> * <span class="meta">@author</span> 高淇</span><br><span class="line"> *</span><br><span class="line"> */</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User4</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> id;        <span class="comment">//id</span></span><br><span class="line">    String name;   <span class="comment">//账户名</span></span><br><span class="line">    String pwd;   <span class="comment">//密码</span></span><br><span class="line">       </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User4</span><span class="params">(<span class="keyword">int</span> id, String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">      </span><br><span class="line">    <span class="function"><span class="keyword">public</span>   <span class="keyword">void</span>   <span class="title">testParameterTransfer01</span><span class="params">(User4  u)</span></span>&#123;</span><br><span class="line">        u.name=<span class="string">"高小八"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">public</span>   <span class="keyword">void</span>   <span class="title">testParameterTransfer02</span><span class="params">(User4  u)</span></span>&#123;</span><br><span class="line">        u  =  <span class="keyword">new</span>  User4(<span class="number">200</span>,<span class="string">"高三"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">      </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        User4   u1  =  <span class="keyword">new</span> User4(<span class="number">100</span>, <span class="string">"高小七"</span>);</span><br><span class="line">         </span><br><span class="line">        u1.testParameterTransfer01(u1); </span><br><span class="line">        System.out.println(u1.name);</span><br><span class="line"> </span><br><span class="line">        u1.testParameterTransfer02(u1);</span><br><span class="line">        System.out.println(u1.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　执行结果如图4-12所示。</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20171028/1509162364830276.png" alt="image.png"></p>
<p>图4-12 示例4-12的运行结果</p>
<h4 id="4-12-包"><a href="#4-12-包" class="headerlink" title="4.12 包"></a>4.12 包</h4><p>   包机制是Java中管理类的重要手段。 开发中，我们会遇到大量同名的类，通过包我们很容易对解决类重名的问题，也可以实现对类的有效管理。 包对于类，相当于文件夹对于文件的作用。</p>
<h4 id="4-13-package"><a href="#4-13-package" class="headerlink" title="4.13 package"></a>4.13 package</h4><p>　　我们通过package实现对类的管理，package的使用有两个要点：</p>
<p>　　1. 通常是类的第一句非注释性语句。</p>
<p>　　2. 包名：域名倒着写即可，再加上模块名，便于内部管理类。</p>
<p><strong>【示例4-13】package的命名举例</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">com.sun.test;</span><br><span class="line">com.oracle.test;</span><br><span class="line">cn.sxt.gao.test;</span><br><span class="line">cn.sxt.gao.view;</span><br><span class="line">cn.sxt.gao.view.model;</span><br></pre></td></tr></table></figure>

<p><strong>注意事项：</strong></p>
<p>　　1. 写项目时都要加包，不要使用默认包。</p>
<p>　　2. com.gao和com.gao.car，这两个包没有包含关系，是两个完全独立的包。只是逻辑上看起来后者是前者的一部分。</p>
<p><strong>【示例4-14】package的使用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.sxt;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"helloworld"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>·在eclipse项目中新建包</strong></p>
<p>　　在src目录上单击右键，选择new-&gt;package</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494928098161998.png" alt="1.png"></p>
<p>图4-13 创建package</p>
<p>　　在package窗口上输入包名即可</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494928109616215.png" alt="2.png"></p>
<p>图4-14 指定包名称</p>
<p>　　接下来，我们就可以在包上单击右键，新建类啦!</p>
<h5 id="4-13-1-JDK中的主要包"><a href="#4-13-1-JDK中的主要包" class="headerlink" title="4.13.1 JDK中的主要包"></a>4.13.1 JDK中的主要包</h5><table>
<thead>
<tr>
<th><strong>表4-3 JDK中的主要包</strong></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>Java中的常用包</strong></td>
<td><strong>说明</strong></td>
</tr>
<tr>
<td>java.lang</td>
<td>包含一些Java语言的核心类，如String、Math、Integer、System和Thread，提供常用功能。</td>
</tr>
<tr>
<td>java.awt</td>
<td>包含了构成抽象窗口工具集（abstract window toolkits）的多个类，这些类被用来构建和管理应用程序的图形用户界面(GUI)。</td>
</tr>
<tr>
<td>java.net</td>
<td>包含执行与网络相关的操作的类。</td>
</tr>
<tr>
<td>java.io</td>
<td>包含能提供多种输入/输出功能的类。</td>
</tr>
<tr>
<td>java.util</td>
<td>包含一些实用工具类，如定义系统特性、使用与日期日历相关的函数。</td>
</tr>
</tbody></table>
<h5 id="4-13-2-导入类import"><a href="#4-13-2-导入类import" class="headerlink" title="4.13.2 导入类import"></a>4.13.2 导入类import</h5><p>　　如果我们要使用其他包的类，需要使用import导入，从而可以在本类中直接通过类名来调用，否则就需要书写类的完整包名和类名。import后，便于编写代码，提高可维护性。</p>
<p><strong>注意要点：</strong></p>
<p>　　1. Java会默认导入java.lang包下所有的类，因此这些类我们可以直接使用。</p>
<p>　　2. 如果导入两个同名的类，只能用包名+类名来显示调用相关类：　</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java.util.Date date = <span class="keyword">new</span> java.util.Date();</span><br></pre></td></tr></table></figure>

<p><strong>【示例4-15】导入同名类的处理</strong>　　</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.*;<span class="comment">//导入该包下所有的类。会降低编译速度，但不会降低运行速度。</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//这里指的是java.sql.Date</span></span><br><span class="line">        Date now; </span><br><span class="line">        <span class="comment">//java.util.Date因为和java.sql.Date类同名，需要完整路径</span></span><br><span class="line">        java.util.Date  now2 = <span class="keyword">new</span> java.util.Date();</span><br><span class="line">        System.out.println(now2);      </span><br><span class="line">        <span class="comment">//java.util包的非同名类不需要完整路径</span></span><br><span class="line">        Scanner input = <span class="keyword">new</span> Scanner(System.in);    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="4-13-3-静态导入"><a href="#4-13-3-静态导入" class="headerlink" title="4.13.3 静态导入"></a>4.13.3 静态导入</h5><p>　　静态导入(static import)是在JDK1.5新增加的功能，其作用是用于导入指定类的静态属性，这样我们可以直接使用静态属性。</p>
<p><strong>【示例4-16】静态导入的使用</strong>　　</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.sxt;</span><br><span class="line"> <span class="comment">//以下两种静态导入的方式二选一即可</span></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.Math.*;<span class="comment">//导入Math类的所有静态属性</span></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.Math.PI;<span class="comment">//导入Math类的PI属性</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>&#123;</span><br><span class="line">        System.out.println(PI);</span><br><span class="line">        System.out.println(random());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　执行结果如图4-15所示。</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170516/1494928654561591.png" alt="1.png"></p>
<p>图4-15 示例4-16运行结果</p>
<h4 id="第四章-总结"><a href="#第四章-总结" class="headerlink" title="第四章 总结"></a>第四章 总结</h4><p>　　1. 面向对象可以帮助我们从宏观上把握、从整体上分析整个系统。 但是具体到实现部分的微观操作(就是一个个方法)，仍然需要面向过程的思路去处理。</p>
<p>　　2. 类可以看成一类对象的模板，对象可以看成该类的一个具体实例。</p>
<p>　　3. 对于一个类来说，一般有三种常见的成员：属性field、方法method、构造器constructor。</p>
<p>　　4. 构造器也叫构造方法，用于对象的初始化。构造器是一个创建对象时被自动调用的特殊方法，目的是对象的初始化。构造器的名称应与类的名称一致。</p>
<p>　　5.  Java引入了垃圾回收机制，令C++程序员最头疼的内存管理问题迎刃而解。Java程序员可将更多的精力放到业务逻辑上而不是内存管理工作，大大提高开发效率。</p>
<p>　　6. this的本质就是“创建好的对象的地址”! this不能用于static方法中。</p>
<p>　　7.  在类中，用static声明的成员变量为静态成员变量，也称为类变量。类变量的生命周期和类相同，在整个应用程序执行期间都有效。在static方法中不可直接访问非static的成员。</p>
<p>　　8.  Java方法中所有参数都是“值传递”，也就是“传递的是值的副本”。也就是说，我们得到的是“原参数的复印件，而不是原件”。因此，复印件改变不会影响原件。</p>
<p>　　9. 通过package实现对类的管理;如果我们要使用其他包的类，需要使用import导入，从而可以在本类中直接通过类名来调用。</p>
<h4 id="第四章-作业"><a href="#第四章-作业" class="headerlink" title="第四章 作业"></a>第四章 作业</h4><p><strong>一、选择题</strong></p>
<p>　　1.以下语句中关于Java构造方法的说法错误的是( B)。(选择一项)</p>
<p>　　A.构造方法的作用是为创建对象进行初始化工作，比如给成员变量赋值</p>
<p>　　B.一个Java类可以没有构造方法，也可以提供1个或多个构造方法</p>
<p>　　C.构造方法与类同名，不能书写返回值类型</p>
<p>　　D.构造方法的第一条语句如果是super()，则可以省略，该语句作用是调用父类无参数的构造方法</p>
<p>　　2.在Java中，以下程序编译运行后的输出结果为( D)。(选择一项)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x, y;</span><br><span class="line">    Test(<span class="keyword">int</span> x, <span class="keyword">int</span> y) &#123;</span><br><span class="line">        <span class="keyword">this</span>.x = x;</span><br><span class="line">        <span class="keyword">this</span>.y = y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Test pt1, pt2;</span><br><span class="line">        pt1 = <span class="keyword">new</span> Test(<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line">        pt2 = <span class="keyword">new</span> Test(<span class="number">4</span>, <span class="number">4</span>);</span><br><span class="line">        System.out.print(pt1.x + pt2.x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　A.6</p>
<p>　　B.34</p>
<p>　　C.8</p>
<p>　　D.7</p>
<p>　　3.在Java中关于静态方法，以下说法中正确的是(A C)。(选择二项)</p>
<p>　　A.静态方法中不能直接调用非静态方法</p>
<p>　　B.非静态方法中不能直接调用静态方法</p>
<p>　　C.静态方法可以用类名直接调用</p>
<p>　　D.静态方法里可以使用this</p>
<p>　　4.下列选项中关于Java中类方法的说法错误的是(B C)。(选择二项)</p>
<p>　　A.在类方法中可用this来调用本类的类方法</p>
<p>　　B.在类方法中调用本类的类方法时可直接调用</p>
<p>　　C.在类方法中只能调用本类中的类方法</p>
<p>　　D.在类方法中调用实例方法需要先创建对象</p>
<p>　　5.分析如下Java程序的代码所示，则编译运行后的输出结果是( C)。(选择一项)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count=<span class="number">9</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">count1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        count=<span class="number">10</span>;</span><br><span class="line">        System.out.print(<span class="string">"count1="</span>+count);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">count2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.print(<span class="string">"count2="</span>+count);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[ ] args)</span> </span>&#123;</span><br><span class="line">        Test t=<span class="keyword">new</span> Test();</span><br><span class="line">        t.count1();</span><br><span class="line">        t.count2();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   A.count1=9; count2=9;</p>
<p>   B.count1=10;count2=9;</p>
<p>   C.count1=10; count2=10;</p>
<p>   D.count1=9; count2=10;</p>
<p><strong>二、简答题</strong></p>
<p>　　1. 面向过程和面向对象的区别。</p>
<p>　　2. 类和对象的关系</p>
<p>　　3. 构造方法的作用和特征</p>
<p>　　4. this关键字的作用和用法</p>
<p>　　5. 简述static关键字的作用。</p>
<p>　　提示：从static可以修饰变量，方法，代码块，三个方面来回答。</p>
<p><strong>三、编码题</strong></p>
<ol>
<li><p>编写 Java 程序_用于显示人的姓名和年龄。定义一个人类Person。 该类中应该有两个私有属性： 姓名 (name) 和年龄 (age) 。定义构造方法用来初始化数据成员。再定义显示(display()) 方法将姓名和年龄打印出来。在 main 方法中创建人类的实例然后将信息显示。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> age;</span><br><span class="line">	String name;</span><br><span class="line">	Person()&#123;</span><br><span class="line">		age = <span class="number">18</span>;</span><br><span class="line">		name = <span class="string">"sqa"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"age:"</span> + age);</span><br><span class="line">		System.out.println(<span class="string">"name:"</span>+ name);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Practice01</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Person p1 = <span class="keyword">new</span> Person();</span><br><span class="line">		p1.display();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="2">
<li><p>定义一个圆类——Circle，在类的内部提供一个属性：半径(r)，同时 提供 两个 方 法 ： 计算 面积 ( getArea() ) 和 计算 周长(getPerimeter()) 。 通过两个方法计算圆的周长和面积并且对计算结果进行输出。最后定义一个测试类对 Circle 类进行使用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.Math.PI;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span></span>&#123;</span><br><span class="line">	<span class="keyword">double</span> r;</span><br><span class="line">	Circle()&#123;</span><br><span class="line">		r = <span class="number">1.0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">getArea</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(PI*r*r);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">getPerimeter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(PI*<span class="number">2</span>*r);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Practice02</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Circle c1 = <span class="keyword">new</span> Circle();</span><br><span class="line">		c1.getArea();</span><br><span class="line">		c1.getPerimeter();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<p>　　3. 构造方法与重载：定义一个网络用户类，信息有用户 ID、用户密码、 email 地址。在建立类的实例时把以上三个信息都作为构造函数的参数输入， 其中用户 ID 和用户密码时必须缺省时 email地址是用户 ID 加上字符串”@gameschool.com”。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User9</span></span>&#123;</span><br><span class="line">	String id;</span><br><span class="line">	String pwd;  </span><br><span class="line">	String email;</span><br><span class="line">	</span><br><span class="line">	User9(String id,String pwd,String email)&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">		<span class="keyword">this</span>.pwd = pwd;</span><br><span class="line">		<span class="keyword">this</span>.email = email;</span><br><span class="line">	&#125;</span><br><span class="line">	User9(String id)&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">		 <span class="keyword">this</span>.email = id + <span class="string">"@gameschool.com"</span>;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Practice03</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		User9 u1 = <span class="keyword">new</span> User9(<span class="string">"sqa"</span>);</span><br><span class="line">		System.out.println(u1.id);</span><br><span class="line">		System.out.println(u1.pwd);</span><br><span class="line">		System.out.println(u1.email);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="第五章面向对象进阶"><a href="#第五章面向对象进阶" class="headerlink" title="第五章面向对象进阶"></a>第五章面向对象进阶</h3><h4 id="5-1-概述"><a href="#5-1-概述" class="headerlink" title="5.1 概述"></a>5.1 概述</h4><p>   本章重点针对面向对象的三大特征：继承、封装、多态进行详细的讲解。另外还包括抽象类、接口、内部类等概念。很多概念对于初学者来说，更多的是先进行语法性质的了解。不要期望，通过本章学习就“搞透面向对象”。本章只是面向对象的起点，后面所有的章节说白了都是对面向对象这一章的应用。</p>
<p><strong>老鸟建议：</strong></p>
<p>   建议大家，学习本章，莫停留！学完以后，迅速开展后面的章节。可以这么说，以后所有的编程都是“面向对象”的应用而已！</p>
<h5 id="5-1-1-继承的实现"><a href="#5-1-1-继承的实现" class="headerlink" title="5.1.1 继承的实现"></a>5.1.1 继承的实现</h5><p>   继承让我们更加容易实现类的扩展。 比如，我们定义了人类，再定义Boy类就只需要扩展人类即可。实现了代码的重用，不用再重新发明轮子(don’t  reinvent  wheels)。</p>
<p>   从英文字面意思理解，extends的意思是“扩展”。子类是父类的扩展。现实世界中的继承无处不在。比如：</p>
<p> <img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170519/1495179917567916.png" alt="图5-1 现实世界中的继承.png"></p>
<p>图5-1 现实世界中的继承</p>
<p>   上图中，哺乳动物继承了动物。意味着，动物的特性，哺乳动物都有；在我们编程中，如果新定义一个Student类，发现已经有Person类包含了我们需要的属性和方法，那么Student类只需要继承Person类即可拥有Person类的属性和方法。</p>
<p><strong>【示例5-1】使用extends实现继承</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Student s = <span class="keyword">new</span> Student(<span class="string">"高淇"</span>,<span class="number">172</span>,<span class="string">"Java"</span>);</span><br><span class="line">        s.rest();</span><br><span class="line">        s.study();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> height;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rest</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"休息一会！"</span>);</span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    String major; <span class="comment">//专业</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">study</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"在尚学堂，学习Java"</span>);</span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name,<span class="keyword">int</span> height,String major)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//天然拥有父类的属性</span></span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.height = height;</span><br><span class="line">        <span class="keyword">this</span>.major = major;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   执行结果如图5-2所示：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170519/1495180237622323.png" alt="图5-2 示例5-1运行效果图.png"></p>
<p>图5-2 示例5-1运行效果图</p>
<h5 id="5-1-2-instanceof-运算符"><a href="#5-1-2-instanceof-运算符" class="headerlink" title="5.1.2  instanceof 运算符"></a>5.1.2  instanceof 运算符</h5><p>   instanceof是二元运算符，左边是对象，右边是类；当对象是右面类或子类所创建对象时，返回true；否则，返回false。比如：</p>
<p><strong>【示例5-2】使用instanceof运算符进行类型判断</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Student s = <span class="keyword">new</span> Student(<span class="string">"高淇"</span>,<span class="number">172</span>,<span class="string">"Java"</span>);</span><br><span class="line">        System.out.println(s <span class="keyword">instanceof</span> Person);</span><br><span class="line">        System.out.println(s <span class="keyword">instanceof</span> Student);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   两条语句的输出结果都是true。</p>
<h5 id="5-1-3-继承使用要点"><a href="#5-1-3-继承使用要点" class="headerlink" title="5.1.3 继承使用要点"></a>5.1.3 继承使用要点</h5><p>1.父类也称作超类、基类、派生类等。</p>
<p>2.Java中只有单继承，没有像C++那样的多继承。多继承会引起混乱，使得继承链过于复杂，系统难于维护。</p>
<p>3.Java中类没有多继承，接口有多继承。</p>
<p>4.子类继承父类，可以得到父类的全部属性和方法 (除了父类的构造方法)，但不见得可以直接访问(比如，父类私有的属性和方法)。</p>
<p>5.如果定义一个类时，没有调用extends，则它的父类是：java.lang.Object。</p>
<h5 id="5-1-4方法的重写override"><a href="#5-1-4方法的重写override" class="headerlink" title="5.1.4方法的重写override"></a>5.1.4方法的重写override</h5><p>   子类通过重写父类的方法，可以用自身的行为替换父类的行为。方法的重写是实现多态的必要条件。</p>
<p><strong>方法的重写需要符合下面的三个要点：</strong></p>
<p>   1.“==”： 方法名、形参列表相同。</p>
<p>   2.“≤”：返回值类型和声明异常类型，子类小于等于父类。</p>
<p>   3.“≥”： 访问权限，子类大于等于父类。</p>
<p><strong>【示例5-3】方法重写</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestOverride</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Vehicle v1 = <span class="keyword">new</span> Vehicle();</span><br><span class="line">        Vehicle v2 = <span class="keyword">new</span> Horse();</span><br><span class="line">        Vehicle v3 = <span class="keyword">new</span> Plane();</span><br><span class="line">        v1.run();</span><br><span class="line">        v2.run();</span><br><span class="line">        v3.run();</span><br><span class="line">        v2.stop();</span><br><span class="line">        v3.stop();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vehicle</span> </span>&#123; <span class="comment">// 交通工具类</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"跑...."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"停止不动"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Horse</span> <span class="keyword">extends</span> <span class="title">Vehicle</span> </span>&#123; <span class="comment">// 马也是交通工具</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123; <span class="comment">// 重写父类方法</span></span><br><span class="line">        System.out.println(<span class="string">"四蹄翻飞，嘚嘚嘚..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Plane</span> <span class="keyword">extends</span> <span class="title">Vehicle</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123; <span class="comment">// 重写父类方法</span></span><br><span class="line">        System.out.println(<span class="string">"天上飞！"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"空中不能停，坠毁了！"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   执行结果如图5-3所示：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170519/1495182341450054.png" alt="图5-3 示例5-3运行效果图.png"></p>
<p>图5-3 示例5-3运行效果图</p>
<h4 id="5-2"><a href="#5-2" class="headerlink" title="5.2"></a>5.2</h4><h5 id="5-2-1-Object类基本特性"><a href="#5-2-1-Object类基本特性" class="headerlink" title="5.2.1 Object类基本特性"></a>5.2.1 Object类基本特性</h5><p>   Object类是所有Java类的根基类，也就意味着所有的Java对象都拥有Object类的属性和方法。如果在类的声明中未使用extends关键字指明其父类，则默认继承Object类。</p>
<p><strong>【示例5-4】Object类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//等价于：</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">extends</span> <span class="title">Object</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="5-2-2-toString方法"><a href="#5-2-2-toString方法" class="headerlink" title="5.2.2 toString方法"></a>5.2.2 toString方法</h5><p>   Object类中定义有public String toString()方法，其返回值是 String 类型。Object类中toString方法的源码为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> getClass().getName() + <span class="string">"@"</span> + Integer.toHexString(hashCode());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>   根据如上源码得知，默认会返回“类名+@+16进制的hashcode”。在打印输出或者用字符串连接对象时，会自动调用该对象的toString()方法。</p>
<p><strong>【示例5-5】toString()方法测试和重写toString()方法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name+<span class="string">",年龄："</span>+age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person p=<span class="keyword">new</span> Person();</span><br><span class="line">        p.age=<span class="number">20</span>;</span><br><span class="line">        p.name=<span class="string">"李东"</span>;</span><br><span class="line">        System.out.println(<span class="string">"info:"</span>+p);</span><br><span class="line">         </span><br><span class="line">        Test t = <span class="keyword">new</span> Test();</span><br><span class="line">        System.out.println(t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   执行结果如图5-4所示：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170519/1495183720428188.png" alt="图5-4 示例5-5运行效果图.png"></p>
<p>图5-4 示例5-5运行效果图</p>
<h5 id="5-2-3-和equals方法"><a href="#5-2-3-和equals方法" class="headerlink" title="5.2.3 ==和equals方法"></a>5.2.3 ==和equals方法</h5><p>   “==”代表比较双方是否相同。如果是基本类型则表示值相等，如果是引用类型则表示地址相等即是同一个对象。</p>
<p>   Object类中定义有：public boolean equals(Object obj)方法，提供定义“对象内容相等”的逻辑。比如，我们在公安系统中认为id相同的人就是同一个人、学籍系统中认为学号相同的人就是同一个人。</p>
<p>   Object 的 equals 方法默认就是比较两个对象的hashcode，是同一个对象的引用时返回 true 否则返回 false。但是，我们可以根据我们自己的要求重写equals方法。</p>
<p><strong>【示例5-6】equals方法测试和自定义类重写equals方法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestEquals</span> </span>&#123; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person(<span class="number">123</span>,<span class="string">"高淇"</span>);</span><br><span class="line">        Person p2 = <span class="keyword">new</span> Person(<span class="number">123</span>,<span class="string">"高小七"</span>);     </span><br><span class="line">        System.out.println(p1==p2);     <span class="comment">//false，不是同一个对象</span></span><br><span class="line">        System.out.println(p1.equals(p2));  <span class="comment">//true，id相同则认为两个对象内容相同</span></span><br><span class="line">        String s1 = <span class="keyword">new</span> String(<span class="string">"尚学堂"</span>);</span><br><span class="line">        String s2 = <span class="keyword">new</span> String(<span class="string">"尚学堂"</span>);</span><br><span class="line">        System.out.println(s1==s2);         <span class="comment">//false, 两个字符串不是同一个对象</span></span><br><span class="line">        System.out.println(s1.equals(s2));  <span class="comment">//true,  两个字符串内容相同</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(<span class="keyword">int</span> id,String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id=id;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(obj == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> Person) &#123;</span><br><span class="line">                Person c = (Person)obj;</span><br><span class="line">                <span class="keyword">if</span>(c.id==<span class="keyword">this</span>.id) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   JDK提供的一些类，如String、Date、包装类等，重写了Object的equals方法，调用这些类的equals方法， x.equals (y) ，当x和y所引用的对象是同一类对象且属性内容相等时（并不一定是相同对象），返回 true 否则返回 false。</p>
<h4 id="5-3-super关键字"><a href="#5-3-super关键字" class="headerlink" title="5.3 super关键字"></a>5.3 super关键字</h4><p>   super是直接父类对象的引用。可以通过super来访问父类中被子类覆盖的方法或属性。</p>
<p>   使用super调用普通方法，语句没有位置限制，可以在子类中随便调用。</p>
<p>   若是构造方法的第一行代码没有显式的调用super(…)或者this(…);那么Java默认都会调用super(),含义是调用父类的无参数构造方法。这里的super()可以省略。</p>
<p><strong>【示例5-7】super关键字的使用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSuper01</span> </span>&#123; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> ChildClass().f();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FatherClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> value;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>&#123;</span><br><span class="line">        value = <span class="number">100</span>;</span><br><span class="line">        System.out.println (<span class="string">"FatherClass.value="</span>+value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ChildClass</span> <span class="keyword">extends</span> <span class="title">FatherClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> value;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.f();  <span class="comment">//调用父类对象的普通方法</span></span><br><span class="line">        value = <span class="number">200</span>;</span><br><span class="line">        System.out.println(<span class="string">"ChildClass.value="</span>+value);</span><br><span class="line">        System.out.println(value);</span><br><span class="line">        System.out.println(<span class="keyword">super</span>.value); <span class="comment">//调用父类对象的成员变量</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   执行结果如图5-5所示：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170519/1495186136513650.png" alt="图5-5 示例5-7运行效果图.png"></p>
<p>图5-5 示例5-7运行效果图</p>
<h5 id="5-3-1-继承树追溯"><a href="#5-3-1-继承树追溯" class="headerlink" title="5.3.1 继承树追溯"></a>5.3.1 继承树追溯</h5><p><strong>·属性/方法查找顺序：(比如：查找变量h)</strong></p>
<ol>
<li><p>查找当前类中有没有属性h</p>
<ol start="2">
<li><p>依次上溯每个父类，查看每个父类中是否有h，直到Object</p>
</li>
<li><p>如果没找到，则出现编译错误。</p>
</li>
</ol>
</li>
<li><p>上面步骤，只要找到h变量，则这个过程终止。</p>
</li>
</ol>
<p><strong>·构造方法调用顺序：</strong></p>
<p>   构造方法第一句总是：super(…)来调用父类对应的构造方法。所以，流程就是：先向上追溯到Object，然后再依次向下执行类的初始化块和构造方法，直到当前子类为止。</p>
<p>   注：静态初始化块调用顺序，与构造方法调用顺序一样，不再重复。</p>
<p><strong>【示例5-8】构造方法向上追溯执行测试</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSuper02</span> </span>&#123; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"开始创建一个ChildClass对象......"</span>);</span><br><span class="line">        <span class="keyword">new</span> ChildClass();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FatherClass</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FatherClass</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"创建FatherClass"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ChildClass</span> <span class="keyword">extends</span> <span class="title">FatherClass</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ChildClass</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"创建ChildClass"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   执行结果如图5-6所示：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170519/1495187263836897.png" alt="图5-6 示例5-8运行效果图.png"></p>
<p>图5-6 示例5-8运行效果图</p>
<h4 id="5-4"><a href="#5-4" class="headerlink" title="5.4"></a>5.4</h4><h5 id="5-4-1-封装的作用和含义"><a href="#5-4-1-封装的作用和含义" class="headerlink" title="5.4.1 封装的作用和含义"></a>5.4.1 封装的作用和含义</h5><p>   我要看电视，只需要按一下开关和换台就可以了。有必要了解电视机内部的结构吗?有必要碰碰显像管吗?制造厂家为了方便我们使用电视，把复杂的内部细节全部封装起来，只给我们暴露简单的接口，比如：电源开关。具体内部是怎么实现的，我们不需要操心。</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20171028/1509199502558961.png" alt="image.png"></p>
<p>   需要让用户知道的才暴露出来，不需要让用户知道的全部隐藏起来，这就是封装。说的专业一点，封装就是把对象的属性和操作结合为一个独立的整体，并尽可能隐藏对象的内部实现细节。</p>
<p>   我们程序设计要追求“高内聚，低耦合”。 高内聚就是类的内部数据操作细节自己完成，不允许外部干涉;低耦合是仅暴露少量的方法给外部使用，尽量方便外部调用。</p>
<p><strong>编程中封装的具体优点：</strong></p>
<p>   \1. 提高代码的安全性。</p>
<p>   \2. 提高代码的复用性。</p>
<p>   \3. “高内聚”：封装细节，便于修改内部代码，提高可维护性。</p>
<p>   \4. “低耦合”：简化外部调用，便于调用者使用，便于扩展和协作。</p>
<p><strong>【示例5-9】没有封装的代码会出现一些问题</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Person [name="</span> + name + <span class="string">", age="</span> + age + <span class="string">"]"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person p = <span class="keyword">new</span> Person();</span><br><span class="line">        p.name = <span class="string">"小红"</span>;</span><br><span class="line">        p.age = -<span class="number">45</span>;<span class="comment">//年龄可以通过这种方式随意赋值，没有任何限制</span></span><br><span class="line">        System.out.println(p);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   我们都知道，年龄不可能是负数，也不可能超过130岁，但是如果没有使用封装的话，便可以给年龄赋值成任意的整数，这显然不符合我们的正常逻辑思维。执行结果如图5-7所示:</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495250202677298.png" alt="图5-7 示例5-9运行效果图.png"></p>
<p>图5-7 示例5-9运行效果图</p>
<p>   再比如说，如果哪天我们需要将Person类中的age属性修改为String类型的，你会怎么办?你只有一处使用了这个类的话那还比较幸运，但如果你有几十处甚至上百处都用到了，那你岂不是要改到崩溃。而封装恰恰能解决这样的问题。如果使用封装，我们只需要稍微修改下Person类的setAge()方法即可，而无需修改使用了该类的客户代码。</p>
<h5 id="5-4-2-封装的实现—使用访问控制符"><a href="#5-4-2-封装的实现—使用访问控制符" class="headerlink" title="5.4.2 封装的实现—使用访问控制符"></a>5.4.2 封装的实现—使用访问控制符</h5><p>   Java是使用“访问控制符”来控制哪些细节需要封装，哪些细节需要暴露的。 Java中4种“访问控制符”分别为private、default、protected、public，它们说明了面向对象的封装性，所以我们要利用它们尽可能的让访问权限降到最低，从而提高安全性。</p>
<p>   下面详细讲述它们的访问权限问题。其访问权限范围如表5-1所示。</p>
<p>表5-1 访问权限修饰符</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170522/1495417749528447.png" alt="图1.png"></p>
<ol>
<li><p>private 表示私有，只有自己类能访问</p>
</li>
<li><p>default表示没有修饰符修饰，只有同一个包的类能访问</p>
<ol start="3">
<li>protected表示可以被同一个包的类以及其他包中的子类访问</li>
</ol>
</li>
<li><p>public表示可以被该项目的所有包中的所有类访问</p>
<p>下面做进一步说明Java中4种访问权限修饰符的区别：首先我们创建4个类：Person类、Student类、Animal类和Computer类，分别比较本类、本包、子类、其他包的区别。</p>
</li>
</ol>
<p><strong>public访问权限修饰符：</strong></p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495251897514580.png" alt="图5-8 public访问权限—本类中访问public属性.png"></p>
<p>图5-8 public访问权限—本类中访问public属性</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495251910209664.png" alt="图5-9 public访问权限—本包中访问public属性.png"></p>
<p>图5-9 public访问权限—本包中访问public属性</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495251926154354.png" alt="图5-10 public访问权限—不同包中的子类访问public属性.png"></p>
<p>图5-10 public访问权限—不同包中的子类访问public属性</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495251937942718.png" alt="图5-11 public访问权限—不同包中的非子类访问public属性.png"></p>
<p>图5-11 public访问权限—不同包中的非子类访问public属性</p>
<p>   通过图5-8 ~ 图5-11可以说明，public修饰符的访问权限为：该项目的所有包中的所有类。</p>
<p><strong>protected访问权限修饰符：将Person类中属性改为protected，其他类不修改。</strong></p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495251999316349.png" alt="图5-12 protected访问权限—修改后的Person类.png"></p>
<p>图5-12 protected访问权限—修改后的Person类</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495252016275089.png" alt="图5-13 protected访问权限—不同包中的非子类不能访问protected属性.png"></p>
<p>图5-13 protected访问权限—不同包中的非子类不能访问protected属性</p>
<p>   通过图5-12和图5-13可以说明，protected修饰符的访问权限为：同一个包中的类以及其他包中的子类。</p>
<p><strong>默认访问权限修饰符：将Person类中属性改为默认的，其他类不修改。</strong></p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495252053329405.png" alt="图5-14 默认访问权限—修改后的Person类.png"></p>
<p>图5-14 默认访问权限—修改后的Person类</p>
<p>   通过图5-14可以说明，默认修饰符的访问权限为：同一个包中的类。</p>
<p><strong>private访问权限修饰符：将Person类中属性改为private，其他类不修改。</strong></p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495252087548083.png" alt="图5-15 private访问权限—修改后的Person类.png"></p>
<p>图5-15 private访问权限—修改后的Person类</p>
<p>   通过图5-15可以说明，private修饰符的访问权限为：同一个类。</p>
<h4 id="5-4-3-封装的使用细节"><a href="#5-4-3-封装的使用细节" class="headerlink" title="5.4.3 封装的使用细节"></a>5.4.3 封装的使用细节</h4><p><strong>类的属性的处理:</strong></p>
<ol>
<li><p>一般使用private访问权限。</p>
<ol start="2">
<li><p>提供相应的get/set方法来访问相关属性，这些方法通常是public修饰的，以提供对属性的赋值与读取操作(注意：boolean变量的get方法是is开头!)。</p>
</li>
<li><p>一些只用于本类的辅助性方法可以用private修饰，希望其他类调用的方法用public修饰。</p>
</li>
</ol>
</li>
</ol>
<p><strong>【示例5-10】JavaBean的封装实例</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 属性一般使用private修饰</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> flag;</span><br><span class="line">    <span class="comment">// 为属性提供public修饰的set/get方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isFlag</span><span class="params">()</span> </span>&#123;<span class="comment">// 注意：boolean类型的属性get方法是is开头的</span></span><br><span class="line">        <span class="keyword">return</span> flag;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setFlag</span><span class="params">(<span class="keyword">boolean</span> flag)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.flag = flag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   下面我们使用封装来解决一下5.4.1中提到的年龄非法赋值的问题。</p>
<p><strong>【示例5-11】封装的使用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="comment">// this.age = age;//构造方法中不能直接赋值，应该调用setAge方法</span></span><br><span class="line">        setAge(age);</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//在赋值之前先判断年龄是否合法</span></span><br><span class="line">        <span class="keyword">if</span> (age &gt; <span class="number">130</span> || age &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>.age = <span class="number">18</span>;<span class="comment">//不合法赋默认值18</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.age = age;<span class="comment">//合法才能赋值给属性age</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Person [name="</span> + name + <span class="string">", age="</span> + age + <span class="string">"]"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person();</span><br><span class="line">        <span class="comment">//p1.name = "小红"; //编译错误</span></span><br><span class="line">        <span class="comment">//p1.age = -45;  //编译错误</span></span><br><span class="line">        p1.setName(<span class="string">"小红"</span>);</span><br><span class="line">        p1.setAge(-<span class="number">45</span>);</span><br><span class="line">        System.out.println(p1);</span><br><span class="line">         </span><br><span class="line">        Person p2 = <span class="keyword">new</span> Person(<span class="string">"小白"</span>, <span class="number">300</span>);</span><br><span class="line">        System.out.println(p2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   执行结果如图5-16所示：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495253058271276.png" alt="图5-16 示例5-11运行效果图.png"></p>
<p>图5-16 示例5-11运行效果图</p>
<h4 id="5-5-多态-polymorphism"><a href="#5-5-多态-polymorphism" class="headerlink" title="5.5 多态(polymorphism)"></a>5.5 多态(polymorphism)</h4><p>   多态指的是同一个方法调用，由于对象不同可能会有不同的行为。现实生活中，同一个方法，具体实现会完全不同。 比如：同样是调用人的“休息”方法，张三是睡觉，李四是旅游，高淇老师是敲代码，数学教授是做数学题; 同样是调用人“吃饭”的方法，中国人用筷子吃饭，英国人用刀叉吃饭，印度人用手吃饭。</p>
<p>   多态的要点：</p>
<ol>
<li><p>多态是方法的多态，不是属性的多态(多态与属性无关)。</p>
</li>
<li><p>多态的存在要有3个必要条件：继承，方法重写，父类引用指向子类对象。</p>
</li>
<li><p>父类引用指向子类对象后，用该父类引用调用子类重写的方法，此时多态就出现了。</p>
</li>
</ol>
<p><strong>【示例5-12】多态和类型转换测试</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shout</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"叫了一声！"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shout</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"旺旺旺！"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">seeDoor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"看门中...."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shout</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"喵喵喵喵！"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestPolym</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Animal a1 = <span class="keyword">new</span> Cat(); <span class="comment">// 向上可以自动转型</span></span><br><span class="line">        <span class="comment">//传的具体是哪一个类就调用哪一个类的方法。大大提高了程序的可扩展性。</span></span><br><span class="line">        animalCry(a1);</span><br><span class="line">        Animal a2 = <span class="keyword">new</span> Dog();</span><br><span class="line">        animalCry(a2);<span class="comment">//a2为编译类型，Dog对象才是运行时类型。</span></span><br><span class="line">         </span><br><span class="line">        <span class="comment">//编写程序时，如果想调用运行时类型的方法，只能进行强制类型转换。</span></span><br><span class="line">        <span class="comment">// 否则通不过编译器的检查。</span></span><br><span class="line">        Dog dog = (Dog)a2;<span class="comment">//向下需要强制类型转换</span></span><br><span class="line">        dog.seeDoor();</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// 有了多态，只需要让增加的这个类继承Animal类就可以了。</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">animalCry</span><span class="params">(Animal a)</span> </span>&#123;</span><br><span class="line">        a.shout();</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/* 如果没有多态，我们这里需要写很多重载的方法。</span></span><br><span class="line"><span class="comment">     * 每增加一种动物，就需要重载一种动物的喊叫方法。非常麻烦。</span></span><br><span class="line"><span class="comment">    static void animalCry(Dog d) &#123;</span></span><br><span class="line"><span class="comment">        d.shout();</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    static void animalCry(Cat c) &#123;</span></span><br><span class="line"><span class="comment">        c.shout();</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   执行结果如图5-17所示：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495253451887350.png" alt="图5-17 示例5-12运行效果图.png"></p>
<p>图5-17 示例5-12运行效果图</p>
<p>   示例5-12给大家展示了多态最为多见的一种用法，即父类引用做方法的形参，实参可以是任意的子类对象，可以通过不同的子类对象实现不同的行为方式。</p>
<p>   由此，我们可以看出多态的主要优势是提高了代码的可扩展性，符合开闭原则。但是多态也有弊端，就是无法调用子类特有的功能，比如，我不能使用父类的引用变量调用Dog类特有的seeDoor()方法。</p>
<p>   那如果我们就想使用子类特有的功能行不行呢?行!这就是我们下一章节所讲的内容：对象的转型。</p>
<h4 id="5-6-对象的转型-casting"><a href="#5-6-对象的转型-casting" class="headerlink" title="5.6 对象的转型(casting)"></a>5.6 对象的转型(casting)</h4><p>   父类引用指向子类对象，我们称这个过程为向上转型，属于自动类型转换。</p>
<p>   向上转型后的父类引用变量只能调用它编译类型的方法，不能调用它运行时类型的方法。这时，我们就需要进行类型的强制转换，我们称之为向下转型!</p>
<p><strong>【示例5-13】对象的转型</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestCasting</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Object obj = <span class="keyword">new</span> String(<span class="string">"北京尚学堂"</span>); <span class="comment">// 向上可以自动转型</span></span><br><span class="line">        <span class="comment">// obj.charAt(0) 无法调用。编译器认为obj是Object类型而不是String类型</span></span><br><span class="line">        <span class="comment">/* 编写程序时，如果想调用运行时类型的方法，只能进行强制类型转换。</span></span><br><span class="line"><span class="comment">         * 不然通不过编译器的检查。 */</span></span><br><span class="line">        String str = (String) obj; <span class="comment">// 向下转型</span></span><br><span class="line">        System.out.println(str.charAt(<span class="number">0</span>)); <span class="comment">// 位于0索引位置的字符</span></span><br><span class="line">        System.out.println(obj == str); <span class="comment">// true.他们俩运行时是同一个对象</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   执行结果如果5-18所示：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495254148771321.png" alt="图5-18 示例5-13运行效果图.png"></p>
<p>图5-18 示例5-13运行效果图</p>
<p>   在向下转型过程中，必须将引用变量转成真实的子类类型(运行时类型)否则会出现类型转换异常ClassCastException。如示例5-14所示。</p>
<p><strong>【示例5-14】类型转换异常</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestCasting2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Object obj = <span class="keyword">new</span> String(<span class="string">"北京尚学堂"</span>);</span><br><span class="line">        <span class="comment">//真实的子类类型是String，但是此处向下转型为StringBuffer</span></span><br><span class="line">        StringBuffer str = (StringBuffer) obj;</span><br><span class="line">        System.out.println(str.charAt(<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   执行结果如果5-19所示：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495256025435935.png" alt="图5-19 示例5-14运行效果图.png"></p>
<p>图5-19 示例5-14运行效果图</p>
<p>   为了避免出现这种异常，我们可以使用5.1.2中所学的instanceof运算符进行判断，如示例5-15所示。</p>
<p><strong>【示例5-15】向下转型中使用instanceof</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestCasting3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Object obj = <span class="keyword">new</span> String(<span class="string">"北京尚学堂"</span>);</span><br><span class="line">        <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> String)&#123;</span><br><span class="line">            String str = (String)obj;</span><br><span class="line">            System.out.println(str.charAt(<span class="number">0</span>));</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> StringBuffer)&#123;</span><br><span class="line">            StringBuffer str = (StringBuffer) obj;</span><br><span class="line">            System.out.println(str.charAt(<span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   执行结果如果5-20所示：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495256138635602.png" alt="图5-20 示例5-15运行效果图.png"></p>
<p>图5-20 示例5-15运行效果图</p>
<h4 id="5-7-final关键字"><a href="#5-7-final关键字" class="headerlink" title="5.7 final关键字"></a>5.7 final关键字</h4><p><strong>final关键字的作用：</strong></p>
<ol>
<li>修饰变量: 被他修饰的变量不可改变。一旦赋了初值，就不能被重新赋值。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">final  int   MAX_SPEED &#x3D; 120;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>修饰方法：该方法不可被子类重写。但是可以被重载!</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">final  void  study()&#123;&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>修饰类: 修饰的类不能被继承。比如：Math、String等。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">final   class  A &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>   final修饰变量详见第二章示例2-9。</p>
<p>   final修饰方法如图5-21所示。</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495258739380250.png" alt="图5-21 final修饰方法.png"></p>
<p>图5-21 final修饰方法</p>
<p>   final修饰类如图5-22所示。</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495258781342385.png" alt="图5-22 final修饰类.png"></p>
<p>图5-22 final修饰类</p>
<h4 id="5-8-抽象方法和抽象类"><a href="#5-8-抽象方法和抽象类" class="headerlink" title="5.8 抽象方法和抽象类"></a>5.8 抽象方法和抽象类</h4><p><strong>·抽象方法</strong></p>
<p>   使用abstract修饰的方法，没有方法体，只有声明。定义的是一种“规范”，就是告诉子类必须要给抽象方法提供具体的实现。</p>
<p><strong>·抽象类</strong></p>
<p>   包含抽象方法的类就是抽象类。通过abstract方法定义规范，然后要求子类必须定义具体实现。通过抽象类，我们就可以做到严格限制子类的设计，使子类之间更加通用。</p>
<p><strong>【示例5-16】抽象类和抽象方法的基本用法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//抽象类</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shout</span><span class="params">()</span></span>;  <span class="comment">//抽象方法</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123; </span><br><span class="line">    <span class="comment">//子类必须实现父类的抽象方法，否则编译错误</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shout</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"汪汪汪！"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">seeDoor</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"看门中...."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//测试抽象类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestAbstractClass</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Dog a = <span class="keyword">new</span> Dog();</span><br><span class="line">        a.shout();</span><br><span class="line">        a.seeDoor();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>抽象类的使用要点:</strong></p>
<ol>
<li><p>有抽象方法的类只能定义成抽象类</p>
</li>
<li><p>抽象类不能实例化，即不能用new来实例化抽象类。</p>
</li>
<li><p>抽象类可以包含属性、方法、构造方法。但是构造方法不能用来new实例，只能用来被子类调用。</p>
</li>
<li><p>抽象类只能用来被继承。</p>
</li>
<li><p>抽象方法必须被子类实现。</p>
</li>
</ol>
<h4 id="5-9"><a href="#5-9" class="headerlink" title="5.9"></a>5.9</h4><h5 id="5-9-1接口的作用"><a href="#5-9-1接口的作用" class="headerlink" title="5.9.1接口的作用"></a>5.9.1接口的作用</h5><p><strong>· 为什么需要接口?接口和抽象类的区别?</strong></p>
<p>   接口就是比“抽象类”还“抽象”的“抽象类”，可以更加规范的对子类进行约束。全面地专业地实现了：规范和具体实现的分离。</p>
<p>   抽象类还提供某些具体实现，接口不提供任何实现，接口中所有方法都是抽象方法。接口是完全面向规范的，规定了一批类具有的公共方法规范。</p>
<p>   从接口的实现者角度看，接口定义了可以向外部提供的服务。</p>
<p>   从接口的调用者角度看，接口定义了实现者能提供那些服务。</p>
<p>   接口是两个模块之间通信的标准，通信的规范。如果能把你要设计的模块之间的接口定义好，就相当于完成了系统的设计大纲，剩下的就是添砖加瓦的具体实现了。大家在工作以后，做系统时往往就是使用“面向接口”的思想来设计系统。</p>
<p>   接口和实现类不是父子关系，是实现规则的关系。比如：我定义一个接口Runnable，Car实现它就能在地上跑，Train实现它也能在地上跑，飞机实现它也能在地上跑。就是说，如果它是交通工具，就一定能跑，但是一定要实现Runnable接口。</p>
<p><strong>· 接口的本质探讨</strong></p>
<p>   接口就是规范，定义的是一组规则，体现了现实世界中“如果你是…则必须能…”的思想。如果你是天使，则必须能飞。如果你是汽车，则必须能跑。如果你是好人，则必须能干掉坏人;如果你是坏人，则必须欺负好人。</p>
<p>   接口的本质是契约，就像我们人间的法律一样。制定好后大家都遵守。</p>
<p>   面向对象的精髓，是对对象的抽象，最能体现这一点的就是接口。为什么我们讨论设计模式都只针对具备了抽象能力的语言(比如C++、Java、C#等)，就是因为设计模式所研究的，实际上就是如何合理的去抽象。</p>
<p><strong>区别</strong></p>
<ol>
<li><p>普通类：具体实现</p>
<ol start="2">
<li>抽象类：具体实现，规范(抽象方法)</li>
</ol>
</li>
<li><p>接口：规范!</p>
</li>
</ol>
<h5 id="5-9-2-如何定义和使用接口"><a href="#5-9-2-如何定义和使用接口" class="headerlink" title="5.9.2 如何定义和使用接口?"></a>5.9.2 如何定义和使用接口?</h5><p><strong>声明格式：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[访问修饰符]  interface 接口名   [extends  父接口1，父接口2…]  &#123;</span><br><span class="line">常量定义；  </span><br><span class="line">方法定义；</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>定义接口的详细说明：</strong></p>
<ol>
<li><p>访问修饰符：只能是public或默认。</p>
</li>
<li><p>接口名：和类名采用相同命名机制。</p>
</li>
<li><p>extends：接口可以多继承。</p>
</li>
<li><p>常量：接口中的属性只能是常量，总是：public static final 修饰。不写也是。</p>
</li>
<li><p>方法：接口中的方法只能是：public abstract。 省略的话，也是public abstract。</p>
</li>
</ol>
<p><strong>要点</strong></p>
<ol>
<li><p>子类通过implements来实现接口中的规范。</p>
</li>
<li><p>接口不能创建实例，但是可用于声明引用变量类型。</p>
</li>
<li><p>一个类实现了接口，必须实现接口中所有的方法，并且这些方法只能是public的。</p>
</li>
<li><p>JDK1.7之前，接口中只能包含静态常量、抽象方法，不能有普通属性、构造方法、普通方法。</p>
</li>
<li><p>JDK1.8后，接口中包含普通的静态方法。</p>
</li>
</ol>
<p><strong>【示例5-17】接口的使用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInterface</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Volant volant = <span class="keyword">new</span> Angel();</span><br><span class="line">        volant.fly();</span><br><span class="line">        System.out.println(Volant.FLY_HIGHT);</span><br><span class="line">         </span><br><span class="line">        Honest honest = <span class="keyword">new</span> GoodMan();</span><br><span class="line">        honest.helpOther();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**飞行接口*/</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Volant</span> </span>&#123; </span><br><span class="line">    <span class="keyword">int</span> FLY_HIGHT = <span class="number">100</span>;  <span class="comment">// 总是：public static final类型的；</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span></span>;   <span class="comment">//总是：public abstract void fly();</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**善良接口*/</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Honest</span> </span>&#123; </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">helpOther</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**Angle类实现飞行接口和善良接口*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Angel</span> <span class="keyword">implements</span> <span class="title">Volant</span>, <span class="title">Honest</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"我是天使，飞起来啦！"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">helpOther</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"扶老奶奶过马路！"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GoodMan</span> <span class="keyword">implements</span> <span class="title">Honest</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">helpOther</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"扶老奶奶过马路！"</span>);</span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BirdMan</span> <span class="keyword">implements</span> <span class="title">Volant</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"我是鸟人，正在飞！"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   执行结果如果5-23所示：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495260169113292.png" alt="图5-23 示例5-17运行效果图.png"></p>
<p>图5-23 示例5-17运行效果图</p>
<h5 id="5-9-3-接口的多继承"><a href="#5-9-3-接口的多继承" class="headerlink" title="5.9.3 接口的多继承"></a>5.9.3 接口的多继承</h5><p>   接口完全支持多继承。和类的继承类似，子接口扩展某个父接口，将会获得父接口中所定义的一切。</p>
<p><strong>【示例5-18】接口的多继承</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">testa</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">testb</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**接口可以多继承：接口C继承接口A和B*/</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">C</span> <span class="keyword">extends</span> <span class="title">A</span>, <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">testc</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> <span class="keyword">implements</span> <span class="title">C</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testa</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testb</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="5-9-4-面向接口编程"><a href="#5-9-4-面向接口编程" class="headerlink" title="5.9.4 面向接口编程"></a>5.9.4 面向接口编程</h5><p>   面向接口编程是面向对象编程的一部分。</p>
<p>   为什么需要面向接口编程? 软件设计中最难处理的就是需求的复杂变化，需求的变化更多的体现在具体实现上。我们的编程如果围绕具体实现来展开就会陷入”复杂变化”的汪洋大海中，软件也就不能最终实现。我们必须围绕某种稳定的东西开展，才能以静制动，实现规范的高质量的项目。</p>
<p>   接口就是规范，就是项目中最稳定的东东! 面向接口编程可以让我们把握住真正核心的东西，使实现复杂多变的需求成为可能。</p>
<p>   通过面向接口编程，而不是面向实现类编程，可以大大降低程序模块间的耦合性，提高整个系统的可扩展性和和可维护性。</p>
<p>   面向接口编程的概念比接口本身的概念要大得多。设计阶段相对比较困难，在你没有写实现时就要想好接口，接口一变就乱套了，所以设计要比实现难!</p>
<p><strong>老鸟建议</strong></p>
<p>   接口语法本身非常简单，但是如何真正使用?这才是大学问。我们需要后面在项目中反复使用，大家才能体会到。 学到此处，能了解基本概念，熟悉基本语法，就是“好学生”了。 请继续努力!再请工作后，闲余时间再看看上面这段话，相信你会有更深的体会。</p>
<h4 id="5-10"><a href="#5-10" class="headerlink" title="5.10"></a>5.10</h4><h5 id="5-10-1内部类的概念"><a href="#5-10-1内部类的概念" class="headerlink" title="5.10.1内部类的概念"></a>5.10.1内部类的概念</h5><p>   一般情况，我们把类定义成独立的单元。有些情况下，我们把一个类放在另一个类的内部定义，称为内部类(innerclasses)。</p>
<p>   内部类可以使用public、default、protected 、private以及static修饰。而外部顶级类(我们以前接触的类)只能使用public和default修饰。</p>
<p><strong>注意</strong></p>
<p>   内部类只是一个编译时概念，一旦我们编译成功，就会成为完全不同的两个类。对于一个名为Outer的外部类和其内部定义的名为Inner的内部类。编译完成后会出现Outer.class和Outer$Inner.class两个类的字节码文件。所以内部类是相对独立的一种存在，其成员变量/方法名可以和外部类的相同。</p>
<p><strong>【示例5-19】内部类介绍</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**外部类Outer*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Outer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age = <span class="number">10</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(age);<span class="comment">//10</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**内部类Inner*/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Inner</span> </span>&#123;</span><br><span class="line">        <span class="comment">//内部类中可以声明与外部类同名的属性与方法</span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> age = <span class="number">20</span>;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">            System.out.println(age);<span class="comment">//20</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   示例5-19编译后会产生两个不同的字节码文件，如图5-24所示：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495261579765732.png" alt="图5-24 内部类编译结果图.png"></p>
<p>图5-24 内部类编译结果图</p>
<p><strong>内部类的作用：</strong></p>
<ol>
<li><p>内部类提供了更好的封装。只能让外部类直接访问，不允许同一个包中的其他类直接访问。</p>
</li>
<li><p>内部类可以直接访问外部类的私有属性，内部类被当成其外部类的成员。 但外部类不能访问内部类的内部属性。</p>
</li>
<li><p>接口只是解决了多重继承的部分问题，而内部类使得多重继承的解决方案变得更加完整。</p>
</li>
</ol>
<p><strong>内部类的使用场合：</strong></p>
<ol>
<li><p>由于内部类提供了更好的封装特性，并且可以很方便的访问外部类的属性。所以，在只为外部类提供服务的情况下可以优先考虑使用内部类。</p>
</li>
<li><p>使用内部类间接实现多继承：每个内部类都能独立地继承一个类或者实现某些接口，所以无论外部类是否已经继承了某个类或者实现了某些接口，对于内部类没有任何影响。</p>
</li>
</ol>
<h5 id="5-10-2内部类的分类"><a href="#5-10-2内部类的分类" class="headerlink" title="5.10.2内部类的分类"></a>5.10.2内部类的分类</h5><p>   在Java中内部类主要分为成员内部类(非静态内部类、静态内部类)、匿名内部类、局部内部类。</p>
<p><strong>.成员内部类(可以使用private、default、protected、public任意进行修饰。 类文件：外部类$内部类.class)</strong></p>
<p><strong>a) 非静态内部类(外部类里使用非静态内部类和平时使用其他类没什么不同)</strong></p>
<p>   i. 非静态内部类必须寄存在一个外部类对象里。因此，如果有一个非静态内部类对象那么一定存在对应的外部类对象。非静态内部类对象单独属于外部类的某个对象。</p>
<p>   ii. 非静态内部类可以直接访问外部类的成员，但是外部类不能直接访问非静态内部类成员。</p>
<p>   iii. 非静态内部类不能有静态方法、静态属性和静态初始化块。</p>
<p>   iv. 外部类的静态方法、静态代码块不能访问非静态内部类，包括不能使用非静态内部类定义变量、创建实例。</p>
<p>   <strong>v. 成员变量访问要点：</strong></p>
<p>​    1. 内部类里方法的局部变量：变量名。</p>
<p>​    2. 内部类属性：this.变量名。</p>
<p>​    3. 外部类属性：外部类名.this.变量名。</p>
<p><strong>【示例5-20】成员变量的访问要点</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Outer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age = <span class="number">10</span>;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Inner</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> age = <span class="number">20</span>;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> age = <span class="number">30</span>;</span><br><span class="line">            System.out.println(<span class="string">"内部类方法里的局部变量age:"</span> + age);<span class="comment">// 30</span></span><br><span class="line">            System.out.println(<span class="string">"内部类的成员变量age:"</span> + <span class="keyword">this</span>.age);<span class="comment">// 20</span></span><br><span class="line">            System.out.println(<span class="string">"外部类的成员变量age:"</span> + Outer.<span class="keyword">this</span>.age);<span class="comment">// 10</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   <strong>vi. 内部类的访问：</strong></p>
<p>​    1. 外部类中定义内部类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Inner()</span><br></pre></td></tr></table></figure>

<p>​    2. 外部类以外的地方使用非静态内部类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Outer.Inner  varname = <span class="keyword">new</span> Outer().<span class="keyword">new</span> Inner()。</span><br></pre></td></tr></table></figure>

<p><strong>【示例5-21】内部类的访问</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInnerClass</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//先创建外部类实例，然后使用该外部类实例创建内部类实例</span></span><br><span class="line">        Outer.Inner inner = <span class="keyword">new</span> Outer().<span class="keyword">new</span> Inner();</span><br><span class="line">        inner.show();</span><br><span class="line">        Outer outer = <span class="keyword">new</span> Outer();</span><br><span class="line">        Outer.Inner inn = outer.<span class="keyword">new</span> Inner();</span><br><span class="line">        inn.show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   执行结果如图5-25所示：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495262283489060.png" alt="图5-25 示例5-21运行效果图.png"></p>
<p>图5-25 示例5-21运行效果图</p>
<p><strong>b) 静态内部类</strong></p>
<p>   <strong>i. 定义方式：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span>  <span class="class"><span class="keyword">class</span>   <span class="title">ClassName</span> </span>&#123;</span><br><span class="line"><span class="comment">//类体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   <strong>ii. 使用要点：</strong></p>
<p>​    1. 当一个静态内部类对象存在，并不一定存在对应的外部类对象。 因此，静态内部类的实例方法不能直接访问外部类的实例方法。</p>
<p>​    2. 静态内部类看做外部类的一个静态成员。 因此，外部类的方法中可以通过：“静态内部类.名字”的方式访问静态内部类的静态成员，通过 new 静态内部类()访问静态内部类的实例。</p>
<p>【示例5-22】静态内部类的访问</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Outer</span></span>&#123;</span><br><span class="line">    <span class="comment">//相当于外部类的一个静态成员</span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Inner</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestStaticInnerClass</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//通过 new 外部类名.内部类名() 来创建内部类对象</span></span><br><span class="line">        Outer.Inner inner =<span class="keyword">new</span> Outer.Inner();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><strong>. 匿名内部类</strong></p>
<p>   适合那种只需要使用一次的类。比如：键盘监听操作等等。</p>
<p><strong>语法：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span>  父类构造器(实参类表) \实现接口 () &#123;</span><br><span class="line">           <span class="comment">//匿名内部类类体！</span></span><br><span class="line">&#125;</span><br><span class="line">【示例<span class="number">5</span>-<span class="number">23</span>】</span><br></pre></td></tr></table></figure>

<p><strong>【示例5-23】匿名内部类的使用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.addWindowListener(<span class="keyword">new</span> WindowAdapter()&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">windowClosing</span><span class="params">(WindowEvent e)</span> </span>&#123;</span><br><span class="line">            System.exit(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">);</span><br><span class="line"><span class="keyword">this</span>.addKeyListener(<span class="keyword">new</span> KeyAdapter()&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">keyPressed</span><span class="params">(KeyEvent e)</span> </span>&#123;</span><br><span class="line">            myTank.keyPressed(e);</span><br><span class="line">        &#125;      </span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">keyReleased</span><span class="params">(KeyEvent e)</span> </span>&#123;</span><br><span class="line">            myTank.keyReleased(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><strong>注意</strong></p>
<ol>
<li><p>匿名内部类没有访问修饰符。</p>
</li>
<li><p>匿名内部类没有构造方法。因为它连名字都没有那又何来构造方法呢。</p>
</li>
</ol>
<p><strong>.局部内部类</strong></p>
<p>   还有一种内部类，它是定义在方法内部的，作用域只限于本方法，称为局部内部类。</p>
<p>   局部内部类的的使用主要是用来解决比较复杂的问题，想创建一个类来辅助我们的解决方案，到那时又不希望这个类是公共可用的，所以就产生了局部内部类。局部内部类和成员内部类一样被编译，只是它的作用域发生了改变，它只能在该方法中被使用，出了该方法就会失效。</p>
<p>   局部内部类在实际开发中应用很少。</p>
<p><strong>【示例5-24】方法中的内部类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//作用域仅限于该方法</span></span><br><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">Inner</span> </span>&#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fun</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">"helloworld"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">new</span> Inner().fun();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Test2().show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   执行结果如图5-26所示：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495262685367524.png" alt="图5-26 示例5-24运行效果图.png"></p>
<p>图5-26 示例5-24运行效果图</p>
<h4 id="5-11"><a href="#5-11" class="headerlink" title="5.11"></a>5.11</h4><h5 id="5-11-1-String基础"><a href="#5-11-1-String基础" class="headerlink" title="5.11.1 String基础"></a>5.11.1 String基础</h5><ol>
<li><p>String类又称作不可变字符序列。</p>
<ol start="2">
<li><p>String位于java.lang包中，Java程序默认导入java.lang包下的所有类。</p>
</li>
<li><p>Java字符串就是Unicode字符序列，例如字符串“Java”就是4个Unicode字符’J’、’a’、’v’、’a’组成的。</p>
</li>
</ol>
</li>
<li><p>Java没有内置的字符串类型，而是在标准Java类库中提供了一个预定义的类String，每个用双引号括起来的字符串都是String类的一个实例。</p>
</li>
</ol>
<p><strong>【示例5-25】String类的实例</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String e = <span class="string">""</span>  ; <span class="comment">// 空字符串</span></span><br><span class="line">String greeting = <span class="string">" Hello World "</span>;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>Java允许使用符号”+”把两个字符串连接起来。</li>
</ol>
<p><strong>【示例5-26】字符串连接</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String s1 = <span class="string">"Hello"</span>;</span><br><span class="line">String s2 = <span class="string">"World! "</span>;</span><br><span class="line">String s = s1 + s2; <span class="comment">//HelloWorld!</span></span><br></pre></td></tr></table></figure>

<p>​    n-符号”+”把两个字符串按给定的顺序连接在一起，并且是完全按照给定的形式。</p>
<p>​    n-当”+”运算符两侧的操作数中只要有一个是字符串(String)类型，系统会自动将另一个操作数转换为字符串然后再进行连接。</p>
<p><strong>【示例5-27】”+”连接符</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> age = <span class="number">18</span>;</span><br><span class="line">String str = <span class="string">"age is"</span> + age;  <span class="comment">//str赋值为"age is 18"</span></span><br><span class="line"><span class="comment">//这种特性通常被用在输出语句中：</span></span><br><span class="line">System.out.println(<span class="string">"age  is"</span> + age);</span><br></pre></td></tr></table></figure>

<h5 id="5-11-2-String类和常量池"><a href="#5-11-2-String类和常量池" class="headerlink" title="5.11.2 String类和常量池"></a>5.11.2 String类和常量池</h5><p>   在Java的内存分析中，我们会经常听到关于“常量池”的描述，实际上常量池也分了以下三种：</p>
<p><strong>1. 全局字符串常量池(String Pool)</strong></p>
<p>   全局字符串常量池中存放的内容是在类加载完成后存到String Pool中的，在每个VM中只有一份，存放的是字符串常量的引用值(在堆中生成字符串对象实例)。</p>
<p><strong>2. class文件常量池(Class Constant Pool)</strong></p>
<p>   class常量池是在编译的时候每个class都有的，在编译阶段，存放的是常量(文本字符串、final常量等)和符号引用。</p>
<p><strong>3. 运行时常量池(Runtime Constant Pool)</strong></p>
<p>   运行时常量池是在类加载完成之后，将每个class常量池中的符号引用值转存到运行时常量池中，也就是说，每个class都有一个运行时常量池，类在解析之后，将符号引用替换成直接引用，与全局常量池中的引用值保持一致。</p>
<p><strong>【示例5-28】常量池</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">String str1 = <span class="string">"abc"</span>;</span><br><span class="line">String str2 = <span class="keyword">new</span> String(<span class="string">"def"</span>);</span><br><span class="line">String str3 = <span class="string">"abc"</span>;</span><br><span class="line">String str4 = str2.intern();</span><br><span class="line">String str5 = <span class="string">"def"</span>;</span><br><span class="line">System.out.println(str1 == str3);<span class="comment">// true</span></span><br><span class="line">System.out.println(str2 == str4);<span class="comment">// false</span></span><br><span class="line">System.out.println(str4 == str5);<span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>   示例5-28的首先经过编译之后，在该类的class常量池中存放一些符号引用，然后类加载之后，将class常量池中存放的符号引用转存到运行时常量池中，然后经过验证，准备阶段之后，在堆中生成驻留字符串的实例对象(也就是上例中str1所指向的“abc”实例对象)，然后将这个对象的引用存到全局String Pool中，也就是String Pool中，最后在解析阶段，要把运行时常量池中的符号引用替换成直接引用，那么就直接查询String Pool，保证String Pool里的引用值与运行时常量池中的引用值一致，大概整个过程就是这样了。</p>
<p>   回到示例5-28的那个程序，现在就很容易解释整个程序的内存分配过程了，首先，在堆中会有一个“abc”实例，全局String Pool中存放着“abc”的一个引用值，然后在运行第二句的时候会生成两个实例，一个是“def”的实例对象，并且String Pool中存储一个“def”的引用值，还有一个是new出来的一个“def”的实例对象，与上面那个是不同的实例，当在解析str3的时候查找String Pool，里面有“abc”的全局驻留字符串引用，所以str3的引用地址与之前的那个已存在的相同，str4是在运行的时候调用intern()函数，返回String Pool中“def”的引用值，如果没有就将str2的引用值添加进去，在这里，String Pool中已经有了“def”的引用值了，所以返回上面在new str2的时候添加到String Pool中的 “def”引用值，最后str5在解析的时候就也是指向存在于String Pool中的“def”的引用值，那么这样一分析之后，结果就容易理解了。</p>
<h5 id="5-11-4-String类常用的方法"><a href="#5-11-4-String类常用的方法" class="headerlink" title="5.11.4 String类常用的方法"></a>5.11.4 String类常用的方法</h5><p>   String类是我们最常使用的类。字符串类的方法我们必须非常熟悉!我们列出常用的方法，请大家熟悉。</p>
<p>表5-2 String类的常用方法列表</p>
<p><strong><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170522/1495417924711064.png" alt="图2.png"></strong></p>
<p><strong>【示例5-29】String类常用方法一</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringTest1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String s1 = <span class="string">"core Java"</span>;</span><br><span class="line">        String s2 = <span class="string">"Core Java"</span>;</span><br><span class="line">        System.out.println(s1.charAt(<span class="number">3</span>));<span class="comment">//提取下标为3的字符</span></span><br><span class="line">        System.out.println(s2.length());<span class="comment">//字符串的长度</span></span><br><span class="line">        System.out.println(s1.equals(s2));<span class="comment">//比较两个字符串是否相等</span></span><br><span class="line">        System.out.println(s1.equalsIgnoreCase(s2));<span class="comment">//比较两个字符串（忽略大小写）</span></span><br><span class="line">        System.out.println(s1.indexOf(<span class="string">"Java"</span>));<span class="comment">//字符串s1中是否包含Java</span></span><br><span class="line">        System.out.println(s1.indexOf(<span class="string">"apple"</span>));<span class="comment">//字符串s1中是否包含apple</span></span><br><span class="line">        String s = s1.replace(<span class="string">' '</span>, <span class="string">'&amp;'</span>);<span class="comment">//将s1中的空格替换成&amp;</span></span><br><span class="line">        System.out.println(<span class="string">"result is :"</span> + s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   执行结果如图5-31所示：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495267731684048.png" alt="图5-31 示例5-29运行效果图.png"></p>
<p>图5-31 示例5-29运行效果图</p>
<p><strong>【示例5-30】String类常用方法二</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringTest2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String s = <span class="string">""</span>;</span><br><span class="line">        String s1 = <span class="string">"How are you?"</span>;</span><br><span class="line">        System.out.println(s1.startsWith(<span class="string">"How"</span>));<span class="comment">//是否以How开头</span></span><br><span class="line">        System.out.println(s1.endsWith(<span class="string">"you"</span>));<span class="comment">//是否以you结尾</span></span><br><span class="line">        s = s1.substring(<span class="number">4</span>);<span class="comment">//提取子字符串：从下标为4的开始到字符串结尾为止</span></span><br><span class="line">        System.out.println(s);</span><br><span class="line">        s = s1.substring(<span class="number">4</span>, <span class="number">7</span>);<span class="comment">//提取子字符串：下标[4, 7) 不包括7</span></span><br><span class="line">        System.out.println(s);</span><br><span class="line">        s = s1.toLowerCase();<span class="comment">//转小写</span></span><br><span class="line">        System.out.println(s);</span><br><span class="line">        s = s1.toUpperCase();<span class="comment">//转大写</span></span><br><span class="line">        System.out.println(s);</span><br><span class="line">        String s2 = <span class="string">"  How old are you!! "</span>;</span><br><span class="line">        s = s2.trim();<span class="comment">//去除字符串首尾的空格。注意：中间的空格不能去除</span></span><br><span class="line">        System.out.println(s);</span><br><span class="line">        System.out.println(s2);<span class="comment">//因为String是不可变字符串，所以s2不变</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   执行结果如图5-32所示：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495267792980384.png" alt="图5-32 示例5-30运行效果图.png"></p>
<p>图5-32 示例5-30运行效果图</p>
<h5 id="5-11-5-字符串相等的判断"><a href="#5-11-5-字符串相等的判断" class="headerlink" title="5.11.5 字符串相等的判断"></a>5.11.5 字符串相等的判断</h5><ol>
<li><p>equals方法用来检测两个字符串内容是否相等。如果字符串s和t内容相等，则s.equals(t)返回true，否则返回false。</p>
<ol start="2">
<li><p>要测试两个字符串除了大小写区别外是否是相等的，需要使用equalsIgnoreCase方法。</p>
</li>
<li><p>判断字符串是否相等不要使用”==”。</p>
</li>
</ol>
</li>
</ol>
<p><strong>【示例5-31】忽略大小写的字符串比较</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"Hello"</span>.equalsIgnoreCase(<span class="string">"hellO"</span>);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p><strong>【示例5-32】字符串的比较”==”与equals()方法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestStringEquals</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String g1 = <span class="string">"北京尚学堂"</span>;</span><br><span class="line">        String g2 = <span class="string">"北京尚学堂"</span>;</span><br><span class="line">        String g3 = <span class="keyword">new</span> String(<span class="string">"北京尚学堂"</span>);</span><br><span class="line">        System.out.println(g1 == g2); <span class="comment">// true  指向同样的字符串常量对象</span></span><br><span class="line">        System.out.println(g1 == g3); <span class="comment">// false  g3是新创建的对象</span></span><br><span class="line">        System.out.println(g1.equals(g3)); <span class="comment">// true  g1和g3里面的字符串内容是一样的</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>   执行结果如图5-33所示：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495268338419387.png" alt="图5-33 示例5-32运行效果图.png"></p>
<p>图5-33 示例5-32运行效果图</p>
<p>   示例5-32的内存分析如图5-34所示：</p>
<p><img src="https://www.sxt.cn/360shop/Public/admin/UEditor/20170520/1495268347551446.png" alt="图5-34 示例5-32内存分析图.png"></p>
<p>图5-34 示例5-32内存分析图</p>
<h4 id="5-12"><a href="#5-12" class="headerlink" title="5.12"></a>5.12</h4><p><strong>5.12.1 开闭原则</strong></p>
<p>   开闭原则(Open-Closed Principle)就是让设计的系统对扩展开放，对修改封闭。</p>
<p><strong>· 对扩展开放：</strong></p>
<p>   就是指，应对需求变化要灵活。 要增加新功能时，不需要修改已有的代码，增加新代码即可。</p>
<p><strong>· 对修改关闭：</strong></p>
<p>   就是指，核心部分经过精心设计后，不再因为需求变化而改变。</p>
<p>   在实际开发中，我们无法完全做到，但应尽量遵守开闭原则。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Hodor"
      src="/images/Hodor.png">
  <p class="site-author-name" itemprop="name">Hodor</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">1</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hodor</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
